!function(e){e.fn.camera=function(t,i){function a(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?!0:void 0}function n(){var t=e(q).width();e("li",q).removeClass("camera_visThumb"),e("li",q).each(function(){var i=e(this).position(),a=e("ul",q).outerWidth(),n=e("ul",q).offset().left,o=e("> div",q).offset().left,s=o-n;s>0?e(".camera_prevThumbs",Z).removeClass("hideNav"):e(".camera_prevThumbs",Z).addClass("hideNav"),a-s>t?e(".camera_nextThumbs",Z).removeClass("hideNav"):e(".camera_nextThumbs",Z).addClass("hideNav");var r=i.left,l=i.left+e(this).width();t>=l-s&&r-s>=0&&e(this).addClass("camera_visThumb")})}function o(){function i(){if(g=p.width(),-1!=t.height.indexOf("%")){var i=Math.round(g/(100/parseFloat(t.height)));b=""!=t.minHeight&&i<parseFloat(t.minHeight)?parseFloat(t.minHeight):i,p.css({height:b})}else"auto"==t.height?b=p.height():(b=parseFloat(t.height),p.css({height:b}));e(".camerarelative",C).css({width:g,height:b}),e(".imgLoaded",C).each(function(){var i,a,n=e(this),o=n.attr("width"),s=n.attr("height"),r=(n.index(),n.attr("data-alignment")),l=n.attr("data-portrait");if(("undefined"==typeof r||r===!1||""===r)&&(r=t.alignment),("undefined"==typeof l||l===!1||""===l)&&(l=t.portrait),0==l||"false"==l)if(g/b>o/s){var c=g/o,d=.5*Math.abs(b-s*c);switch(r){case"topLeft":i=0;break;case"topCenter":i=0;break;case"topRight":i=0;break;case"centerLeft":i="-"+d+"px";break;case"center":i="-"+d+"px";break;case"centerRight":i="-"+d+"px";break;case"bottomLeft":i="-"+2*d+"px";break;case"bottomCenter":i="-"+2*d+"px";break;case"bottomRight":i="-"+2*d+"px"}n.css({height:s*c,"margin-left":0,"margin-right":0,"margin-top":i,position:"absolute",visibility:"visible",width:g})}else{var c=b/s,d=.5*Math.abs(g-o*c);switch(r){case"topLeft":a=0;break;case"topCenter":a="-"+d+"px";break;case"topRight":a="-"+2*d+"px";break;case"centerLeft":a=0;break;case"center":a="-"+d+"px";break;case"centerRight":a="-"+2*d+"px";break;case"bottomLeft":a=0;break;case"bottomCenter":a="-"+d+"px";break;case"bottomRight":a="-"+2*d+"px"}n.css({height:b,"margin-left":a,"margin-right":a,"margin-top":0,position:"absolute",visibility:"visible",width:o*c})}else if(g/b>o/s){var c=b/s,d=.5*Math.abs(g-o*c);switch(r){case"topLeft":a=0;break;case"topCenter":a=d+"px";break;case"topRight":a=2*d+"px";break;case"centerLeft":a=0;break;case"center":a=d+"px";break;case"centerRight":a=2*d+"px";break;case"bottomLeft":a=0;break;case"bottomCenter":a=d+"px";break;case"bottomRight":a=2*d+"px"}n.css({height:b,"margin-left":a,"margin-right":a,"margin-top":0,position:"absolute",visibility:"visible",width:o*c})}else{var c=g/o,d=.5*Math.abs(b-s*c);switch(r){case"topLeft":i=0;break;case"topCenter":i=0;break;case"topRight":i=0;break;case"centerLeft":i=d+"px";break;case"center":i=d+"px";break;case"centerRight":i=d+"px";break;case"bottomLeft":i=2*d+"px";break;case"bottomCenter":i=2*d+"px";break;case"bottomRight":i=2*d+"px"}n.css({height:s*c,"margin-left":0,"margin-right":0,"margin-top":i,position:"absolute",visibility:"visible",width:g})}})}var a;1==N?(clearTimeout(a),a=setTimeout(i,200)):i(),N=!0}function s(){e("iframe",u).each(function(){e(".camera_caption",u).show();var i=e(this),a=i.attr("data-src");i.attr("src",a);var n=t.imagePath+"blank.gif",o=new Image;if(o.src=n,-1!=t.height.indexOf("%")){var s=Math.round(g/(100/parseFloat(t.height)));b=""!=t.minHeight&&s<parseFloat(t.minHeight)?parseFloat(t.minHeight):s}else b="auto"==t.height?p.height():parseFloat(t.height);i.after(e(o).attr({"class":"imgFake",width:g,height:b}));var r=i.clone();i.remove(),e(o).bind("click",function(){"absolute"==e(this).css("position")?(e(this).remove(),-1!=a.indexOf("vimeo")||-1!=a.indexOf("youtube")?-1!=a.indexOf("?")?autoplay="&autoplay=1":autoplay="?autoplay=1":-1!=a.indexOf("dailymotion")&&(-1!=a.indexOf("?")?autoplay="&autoPlay=1":autoplay="?autoPlay=1"),r.attr("src",a+autoplay),G=!0):(e(this).css({position:"absolute",top:0,left:0,zIndex:10}).after(r),r.css({position:"absolute",top:0,left:0,zIndex:9}))})})}function r(e){for(var t,i,a=e.length;a;t=parseInt(Math.random()*a),i=e[--a],e[a]=e[t],e[t]=i);return e}function l(){if(e(q).length&&!e(P).length){var t,i=e(q).outerWidth(),a=(e("ul > li",q).outerWidth(),e("li.cameracurrent",q).length?e("li.cameracurrent",q).position():""),o=e("ul > li",q).length*e("ul > li",q).outerWidth(),s=e("ul",q).offset().left,r=e("> div",q).offset().left;t=0>s?"-"+(r-s):r-s,1==ne&&(e("ul",q).width(e("ul > li",q).length*e("ul > li",q).outerWidth()),e(q).length&&!e(P).lenght&&p.css({marginBottom:e(q).outerHeight()}),n(),e("ul",q).width(e("ul > li",q).length*e("ul > li",q).outerWidth()),e(q).length&&!e(P).lenght&&p.css({marginBottom:e(q).outerHeight()})),ne=!1;var l=e("li.cameracurrent",q).length?a.left:"",c=e("li.cameracurrent",q).length?a.left+e("li.cameracurrent",q).outerWidth():"";l<e("li.cameracurrent",q).outerWidth()&&(l=0),c-t>i?o>l+i?e("ul",q).animate({"margin-left":"-"+l+"px"},500,n):e("ul",q).animate({"margin-left":"-"+(e("ul",q).outerWidth()-i)+"px"},500,n):0>l-t?e("ul",q).animate({"margin-left":"-"+l+"px"},500,n):(e("ul",q).css({"margin-left":"auto","margin-right":"auto"}),setTimeout(n,100))}}function c(){ee=0;var i=e(".camera_bar_cont",Z).width(),a=e(".camera_bar_cont",Z).height();if("pie"!=f)switch(Y){case"leftToRight":e("#"+v).css({right:i});break;case"rightToLeft":e("#"+v).css({left:i});break;case"topToBottom":e("#"+v).css({bottom:a});break;case"bottomToTop":e("#"+v).css({top:a})}else ie.clearRect(0,0,t.pieDiameter,t.pieDiameter)}function d(i){_.addClass("camerasliding"),G=!1;var n=parseFloat(e("div.cameraSlide.cameracurrent",C).index());if(i>0)var h=i-1;else if(n==O-1)var h=0;else var h=n+1;var m=e(".cameraSlide:eq("+h+")",C),y=e(".cameraSlide:eq("+(h+1)+")",C).addClass("cameranext");if(n!=h+1&&y.hide(),e(".cameraContent",u).fadeOut(600),e(".camera_caption",u).show(),e(".camerarelative",m).append(e("> div ",_).eq(h).find("> div.camera_effected")),e(".camera_target_content .cameraContent:eq("+h+")",p).append(e("> div ",_).eq(h).find("> div")),e(".imgLoaded",m).length){if(E.length>h+1&&!e(".imgLoaded",y).length){var w=E[h+1],x=new Image;x.src=w+"?"+(new Date).getTime(),y.prepend(e(x).attr("class","imgLoaded").css("visibility","hidden")),x.onload=function(){_e=x.naturalWidth,Ce=x.naturalHeight,e(x).attr("data-alignment",R[h+1]).attr("data-portrait",L[h+1]),e(x).attr("width",_e),e(x).attr("height",Ce),o()}}t.onLoaded.call(this),e(".camera_loader",p).is(":visible")?e(".camera_loader",p).fadeOut(400):(e(".camera_loader",p).css({visibility:"hidden"}),e(".camera_loader",p).fadeOut(400,function(){e(".camera_loader",p).css({visibility:"visible"})}));var T,k,D,S,j,B=t.rows,A=t.cols,H=1,I=0,F=new Array("simpleFade","curtainTopLeft","curtainTopRight","curtainBottomLeft","curtainBottomRight","curtainSliceLeft","curtainSliceRight","blindCurtainTopLeft","blindCurtainTopRight","blindCurtainBottomLeft","blindCurtainBottomRight","blindCurtainSliceBottom","blindCurtainSliceTop","stampede","mosaic","mosaicReverse","mosaicRandom","mosaicSpiral","mosaicSpiralReverse","topLeftBottomRight","bottomRightTopLeft","bottomLeftTopRight","topRightBottomLeft","scrollLeft","scrollRight","scrollTop","scrollBottom","scrollHorz");marginLeft=0,marginTop=0,opacityOnGrid=0,1==t.opacityOnGrid?opacityOnGrid=0:opacityOnGrid=1;var N=e(" > div",_).eq(h).attr("data-fx");if(S=a()&&""!=t.mobileFx&&"default"!=t.mobileFx?t.mobileFx:"undefined"!=typeof N&&N!==!1&&"default"!==N?N:t.fx,"random"==S?(S=r(F),S=S[0]):(S=S,S.indexOf(",")>0&&(S=S.replace(/ /g,""),S=S.split(","),S=r(S),S=S[0])),dataEasing=e(" > div",_).eq(h).attr("data-easing"),mobileEasing=e(" > div",_).eq(h).attr("data-mobileEasing"),j=a()&&""!=t.mobileEasing&&"default"!=t.mobileEasing?"undefined"!=typeof mobileEasing&&mobileEasing!==!1&&"default"!==mobileEasing?mobileEasing:t.mobileEasing:"undefined"!=typeof dataEasing&&dataEasing!==!1&&"default"!==dataEasing?dataEasing:t.easing,T=e(" > div",_).eq(h).attr("data-slideOn"),"undefined"!=typeof T&&T!==!1)U=T;else if("random"==t.slideOn){var U=new Array("next","prev");U=r(U),U=U[0]}else U=t.slideOn;var K=e(" > div",_).eq(h).attr("data-time");k="undefined"!=typeof K&&K!==!1&&""!==K?parseFloat(K):t.time;var V=e(" > div",_).eq(h).attr("data-transPeriod");switch(D="undefined"!=typeof V&&V!==!1&&""!==V?parseFloat(V):t.transPeriod,e(_).hasClass("camerastarted")||(S="simpleFade",U="next",j="",D=400,e(_).addClass("camerastarted")),S){case"simpleFade":A=1,B=1;break;case"curtainTopLeft":A=0==t.slicedCols?t.cols:t.slicedCols,B=1;break;case"curtainTopRight":A=0==t.slicedCols?t.cols:t.slicedCols,B=1;break;case"curtainBottomLeft":A=0==t.slicedCols?t.cols:t.slicedCols,B=1;break;case"curtainBottomRight":A=0==t.slicedCols?t.cols:t.slicedCols,B=1;break;case"curtainSliceLeft":A=0==t.slicedCols?t.cols:t.slicedCols,B=1;break;case"curtainSliceRight":A=0==t.slicedCols?t.cols:t.slicedCols,B=1;break;case"blindCurtainTopLeft":B=0==t.slicedRows?t.rows:t.slicedRows,A=1;break;case"blindCurtainTopRight":B=0==t.slicedRows?t.rows:t.slicedRows,A=1;break;case"blindCurtainBottomLeft":B=0==t.slicedRows?t.rows:t.slicedRows,A=1;break;case"blindCurtainBottomRight":B=0==t.slicedRows?t.rows:t.slicedRows,A=1;break;case"blindCurtainSliceTop":B=0==t.slicedRows?t.rows:t.slicedRows,A=1;break;case"blindCurtainSliceBottom":B=0==t.slicedRows?t.rows:t.slicedRows,A=1;break;case"stampede":I="-"+D;break;case"mosaic":I=t.gridDifference;break;case"mosaicReverse":I=t.gridDifference;break;case"mosaicRandom":break;case"mosaicSpiral":I=t.gridDifference,H=1.7;break;case"mosaicSpiralReverse":I=t.gridDifference,H=1.7;break;case"topLeftBottomRight":I=t.gridDifference,H=6;break;case"bottomRightTopLeft":I=t.gridDifference,H=6;break;case"bottomLeftTopRight":I=t.gridDifference,H=6;break;case"topRightBottomLeft":I=t.gridDifference,H=6;break;case"scrollLeft":A=1,B=1;break;case"scrollRight":A=1,B=1;break;case"scrollTop":A=1,B=1;break;case"scrollBottom":A=1,B=1;break;case"scrollHorz":A=1,B=1}for(var $,Q,J=0,ae=B*A,ne=g-Math.floor(g/A)*A,oe=b-Math.floor(b/B)*B,se=0,re=0,le=new Array,ce=new Array,de=new Array;ae>J;){le.push(J),ce.push(J),M.append('<div class="cameraappended" style="display:none; overflow:hidden; position:absolute; z-index:1000" />');var he=e(".cameraappended:eq("+J+")",C);"scrollLeft"==S||"scrollRight"==S||"scrollTop"==S||"scrollBottom"==S||"scrollHorz"==S?X.eq(h).clone().show().appendTo(he):"next"==U?X.eq(h).clone().show().appendTo(he):X.eq(n).clone().show().appendTo(he),$=ne>J%A?1:0,J%A==0&&(se=0),Q=Math.floor(J/A)<oe?1:0,he.css({height:Math.floor(b/B+Q+1),left:se,top:re,width:Math.floor(g/A+$+1)}),e("> .cameraSlide",he).css({height:b,"margin-left":"-"+se+"px","margin-top":"-"+re+"px",width:g}),se=se+he.width()-1,J%A==A-1&&(re=re+he.height()-1),J++}switch(S){case"curtainTopLeft":break;case"curtainBottomLeft":break;case"curtainSliceLeft":break;case"curtainTopRight":le=le.reverse();break;case"curtainBottomRight":le=le.reverse();break;case"curtainSliceRight":le=le.reverse();break;case"blindCurtainTopLeft":break;case"blindCurtainBottomLeft":le=le.reverse();break;case"blindCurtainSliceTop":break;case"blindCurtainTopRight":break;case"blindCurtainBottomRight":le=le.reverse();break;case"blindCurtainSliceBottom":le=le.reverse();break;case"stampede":le=r(le);break;case"mosaic":break;case"mosaicReverse":le=le.reverse();break;case"mosaicRandom":le=r(le);break;case"mosaicSpiral":var pe,ue,me,fe=B/2,ge=0;for(me=0;fe>me;me++){for(ue=me,pe=me;A-me-1>pe;pe++)de[ge++]=ue*A+pe;for(pe=A-me-1,ue=me;B-me-1>ue;ue++)de[ge++]=ue*A+pe;for(ue=B-me-1,pe=A-me-1;pe>me;pe--)de[ge++]=ue*A+pe;for(pe=me,ue=B-me-1;ue>me;ue--)de[ge++]=ue*A+pe}le=de;break;case"mosaicSpiralReverse":var pe,ue,me,fe=B/2,ge=ae-1;for(me=0;fe>me;me++){for(ue=me,pe=me;A-me-1>pe;pe++)de[ge--]=ue*A+pe;for(pe=A-me-1,ue=me;B-me-1>ue;ue++)de[ge--]=ue*A+pe;for(ue=B-me-1,pe=A-me-1;pe>me;pe--)de[ge--]=ue*A+pe;for(pe=me,ue=B-me-1;ue>me;ue--)de[ge--]=ue*A+pe}le=de;break;case"topLeftBottomRight":for(var ue=0;B>ue;ue++)for(var pe=0;A>pe;pe++)de.push(pe+ue);ce=de;break;case"bottomRightTopLeft":for(var ue=0;B>ue;ue++)for(var pe=0;A>pe;pe++)de.push(pe+ue);ce=de.reverse();break;case"bottomLeftTopRight":for(var ue=B;ue>0;ue--)for(var pe=0;A>pe;pe++)de.push(pe+ue);ce=de;break;case"topRightBottomLeft":for(var ue=0;B>ue;ue++)for(var pe=A;pe>0;pe--)de.push(pe+ue);ce=de}e.each(le,function(i,a){function o(){if(e(this).addClass("cameraeased"),e(".cameraeased",C).length>=0&&e(q).css({visibility:"visible"}),e(".cameraeased",C).length==ae){l(),e(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",u).each(function(){e(this).css("visibility","hidden")}),X.eq(h).show().css("z-index","999").removeClass("cameranext").addClass("cameracurrent"),X.eq(n).css("z-index","1").removeClass("cameracurrent"),e(".cameraContent",u).eq(h).addClass("cameracurrent"),n>=0&&e(".cameraContent",u).eq(n).removeClass("cameracurrent"),t.onEndTransition.call(this),"hide"!=e("> div",_).eq(h).attr("data-video")&&e(".cameraContent.cameracurrent .imgFake",u).length&&e(".cameraContent.cameracurrent .imgFake",u).click();var i=X.eq(h).find(".fadeIn").length,a=e(".cameraContent",u).eq(h).find(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom").length;0!=i&&e(".cameraSlide.cameracurrent .fadeIn",u).each(function(){if(""!=e(this).attr("data-easing"))var t=e(this).attr("data-easing");else var t=j;var a=e(this);if("undefined"==typeof a.attr("data-outerWidth")||a.attr("data-outerWidth")===!1||""===a.attr("data-outerWidth")){var n=a.outerWidth();a.attr("data-outerWidth",n)}else var n=a.attr("data-outerWidth");if("undefined"==typeof a.attr("data-outerHeight")||a.attr("data-outerHeight")===!1||""===a.attr("data-outerHeight")){var o=a.outerHeight();a.attr("data-outerHeight",o)}else var o=a.attr("data-outerHeight");var s=a.position(),r=(s.left,s.top,a.attr("class")),l=a.index();a.parents(".camerarelative").outerHeight(),a.parents(".camerarelative").outerWidth();-1!=r.indexOf("fadeIn")?a.animate({opacity:0},0).css("visibility","visible").delay(k/i*(.1*(l-1))).animate({opacity:1},k/i*.15,t):a.css("visibility","visible")}),e(".cameraContent.cameracurrent",u).show(),0!=a&&e(".cameraContent.cameracurrent .moveFromLeft, .cameraContent.cameracurrent .moveFromRight, .cameraContent.cameracurrent .moveFromTop, .cameraContent.cameracurrent .moveFromBottom, .cameraContent.cameracurrent .fadeIn, .cameraContent.cameracurrent .fadeFromLeft, .cameraContent.cameracurrent .fadeFromRight, .cameraContent.cameracurrent .fadeFromTop, .cameraContent.cameracurrent .fadeFromBottom",u).each(function(){if(""!=e(this).attr("data-easing"))var t=e(this).attr("data-easing");else var t=j;var i=e(this),n=i.position(),o=(n.left,n.top,i.attr("class")),s=i.index(),r=i.outerHeight();-1!=o.indexOf("moveFromLeft")?(i.css({left:"-"+g+"px",right:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({left:n.left},k/a*.15,t)):-1!=o.indexOf("moveFromRight")?(i.css({left:g+"px",right:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({left:n.left},k/a*.15,t)):-1!=o.indexOf("moveFromTop")?(i.css({top:"-"+b+"px",bottom:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({top:n.top},k/a*.15,t,function(){i.css({top:"auto",bottom:0})})):-1!=o.indexOf("moveFromBottom")?(i.css({top:b+"px",bottom:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({top:n.top},k/a*.15,t)):-1!=o.indexOf("fadeFromLeft")?(i.animate({opacity:0},0).css({left:"-"+g+"px",right:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({left:n.left,opacity:1},k/a*.15,t)):-1!=o.indexOf("fadeFromRight")?(i.animate({opacity:0},0).css({left:g+"px",right:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({left:n.left,opacity:1},k/a*.15,t)):-1!=o.indexOf("fadeFromTop")?(i.animate({opacity:0},0).css({top:"-"+b+"px",bottom:"auto"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({top:n.top,opacity:1},k/a*.15,t,function(){i.css({top:"auto",bottom:0})})):-1!=o.indexOf("fadeFromBottom")?(i.animate({opacity:0},0).css({bottom:"-"+r+"px"}),i.css("visibility","visible").delay(k/a*(.1*(s-1))).animate({bottom:"0",opacity:1},k/a*.15,t)):-1!=o.indexOf("fadeIn")?i.animate({opacity:0},0).css("visibility","visible").delay(k/a*(.1*(s-1))).animate({opacity:1},k/a*.15,t):i.css("visibility","visible")}),e(".cameraappended",C).remove(),_.removeClass("camerasliding"),X.eq(n).hide();var o,r=e(".camera_bar_cont",Z).width(),p=e(".camera_bar_cont",Z).height();o="pie"!=f?.05:.005,e("#"+v).animate({opacity:t.loaderOpacity},200),W=setInterval(function(){if(_.hasClass("stopped")&&clearInterval(W),"pie"!=f)switch(1.002>=ee&&!_.hasClass("stopped")&&!_.hasClass("paused")&&!_.hasClass("hovered")?ee+=o:1>=ee&&(_.hasClass("stopped")||_.hasClass("paused")||_.hasClass("stopped")||_.hasClass("hovered"))?ee=ee:_.hasClass("stopped")||_.hasClass("paused")||_.hasClass("hovered")||(clearInterval(W),s(),e("#"+v).animate({opacity:0},200,function(){clearTimeout(z),z=setTimeout(c,m),d(),t.onStartLoading.call(this)})),Y){case"leftToRight":e("#"+v).animate({right:r-r*ee},k*o,"linear");break;case"rightToLeft":e("#"+v).animate({left:r-r*ee},k*o,"linear");break;case"topToBottom":e("#"+v).animate({bottom:p-p*ee},k*o,"linear");break;case"bottomToTop":e("#"+v).animate({bottom:p-p*ee},k*o,"linear")}else te=ee,ie.clearRect(0,0,t.pieDiameter,t.pieDiameter),ie.globalCompositeOperation="destination-over",ie.beginPath(),ie.arc(t.pieDiameter/2,t.pieDiameter/2,t.pieDiameter/2-t.loaderStroke,0,2*Math.PI,!1),ie.lineWidth=t.loaderStroke,ie.strokeStyle=t.loaderBgColor,ie.stroke(),ie.closePath(),ie.globalCompositeOperation="source-over",ie.beginPath(),ie.arc(t.pieDiameter/2,t.pieDiameter/2,t.pieDiameter/2-t.loaderStroke,0,2*Math.PI*te,!1),ie.lineWidth=t.loaderStroke-2*t.loaderPadding,ie.strokeStyle=t.loaderColor,ie.stroke(),ie.closePath(),1.002>=ee&&!_.hasClass("stopped")&&!_.hasClass("paused")&&!_.hasClass("hovered")?ee+=o:1>=ee&&(_.hasClass("stopped")||_.hasClass("paused")||_.hasClass("hovered"))?ee=ee:_.hasClass("stopped")||_.hasClass("paused")||_.hasClass("hovered")||(clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",Z).animate({opacity:0},200,function(){clearTimeout(z),z=setTimeout(c,m),d(),t.onStartLoading.call(this)}))},k*o)}}switch($=ne>a%A?1:0,a%A==0&&(se=0),Q=Math.floor(a/A)<oe?1:0,S){case"simpleFade":height=b,width=g,opacityOnGrid=0;break;case"curtainTopLeft":height=0,width=Math.floor(g/A+$+1),marginTop="-"+Math.floor(b/B+Q+1)+"px";break;case"curtainTopRight":height=0,width=Math.floor(g/A+$+1),marginTop="-"+Math.floor(b/B+Q+1)+"px";break;case"curtainBottomLeft":height=0,width=Math.floor(g/A+$+1),marginTop=Math.floor(b/B+Q+1)+"px";break;case"curtainBottomRight":height=0,width=Math.floor(g/A+$+1),marginTop=Math.floor(b/B+Q+1)+"px";break;case"curtainSliceLeft":height=0,width=Math.floor(g/A+$+1),a%2==0?marginTop=Math.floor(b/B+Q+1)+"px":marginTop="-"+Math.floor(b/B+Q+1)+"px";break;case"curtainSliceRight":height=0,width=Math.floor(g/A+$+1),a%2==0?marginTop=Math.floor(b/B+Q+1)+"px":marginTop="-"+Math.floor(b/B+Q+1)+"px";break;case"blindCurtainTopLeft":height=Math.floor(b/B+Q+1),width=0,marginLeft="-"+Math.floor(g/A+$+1)+"px";break;case"blindCurtainTopRight":height=Math.floor(b/B+Q+1),width=0,marginLeft=Math.floor(g/A+$+1)+"px";break;case"blindCurtainBottomLeft":height=Math.floor(b/B+Q+1),width=0,marginLeft="-"+Math.floor(g/A+$+1)+"px";break;case"blindCurtainBottomRight":height=Math.floor(b/B+Q+1),width=0,marginLeft=Math.floor(g/A+$+1)+"px";break;case"blindCurtainSliceBottom":height=Math.floor(b/B+Q+1),width=0,a%2==0?marginLeft="-"+Math.floor(g/A+$+1)+"px":marginLeft=Math.floor(g/A+$+1)+"px";break;case"blindCurtainSliceTop":height=Math.floor(b/B+Q+1),width=0,a%2==0?marginLeft="-"+Math.floor(g/A+$+1)+"px":marginLeft=Math.floor(g/A+$+1)+"px";break;case"stampede":height=0,width=0,marginLeft=.2*g*(i%A-(A-Math.floor(A/2)))+"px",marginTop=.2*b*(Math.floor(i/A)+1-(B-Math.floor(B/2)))+"px";break;case"mosaic":height=0,width=0;break;case"mosaicReverse":height=0,width=0,marginLeft=Math.floor(g/A+$+1)+"px",marginTop=Math.floor(b/B+Q+1)+"px";break;case"mosaicRandom":height=0,width=0,marginLeft=.5*Math.floor(g/A+$+1)+"px",marginTop=.5*Math.floor(b/B+Q+1)+"px";break;case"mosaicSpiral":height=0,width=0,marginLeft=.5*Math.floor(g/A+$+1)+"px",marginTop=.5*Math.floor(b/B+Q+1)+"px";break;case"mosaicSpiralReverse":height=0,width=0,marginLeft=.5*Math.floor(g/A+$+1)+"px",marginTop=.5*Math.floor(b/B+Q+1)+"px";break;case"topLeftBottomRight":height=0,width=0;break;case"bottomRightTopLeft":height=0,width=0,marginLeft=Math.floor(g/A+$+1)+"px",marginTop=Math.floor(b/B+Q+1)+"px";break;case"bottomLeftTopRight":height=0,width=0,marginLeft=0,marginTop=Math.floor(b/B+Q+1)+"px";break;case"topRightBottomLeft":height=0,width=0,marginLeft=Math.floor(g/A+$+1)+"px",marginTop=0;break;case"scrollRight":height=b,width=g,marginLeft=-g;break;case"scrollLeft":height=b,width=g,marginLeft=g;break;case"scrollTop":height=b,width=g,marginTop=b;break;case"scrollBottom":height=b,width=g,marginTop=-b;break;case"scrollHorz":height=b,width=g,0==n&&h==O-1?marginLeft=-g:h>n||n==O-1&&0==h?marginLeft=g:marginLeft=-g}var r=e(".cameraappended:eq("+a+")",C);"undefined"!=typeof W&&(clearInterval(W),clearTimeout(z),z=setTimeout(c,D+I)),e(P).length&&(e(".camera_pag li",p).removeClass("cameracurrent"),e(".camera_pag li",p).eq(h).addClass("cameracurrent")),e(q).length&&(e("li",q).removeClass("cameracurrent"),e("li",q).eq(h).addClass("cameracurrent"),e("li",q).not(".cameracurrent").find("img").animate({opacity:.5},0),e("li.cameracurrent img",q).animate({opacity:1},0),e("li",q).hover(function(){e("img",this).stop(!0,!1).animate({opacity:1},150)},function(){e(this).hasClass("cameracurrent")||e("img",this).stop(!0,!1).animate({opacity:.5},150)}));var m=parseFloat(D)+parseFloat(I);"scrollLeft"==S||"scrollRight"==S||"scrollTop"==S||"scrollBottom"==S||"scrollHorz"==S?(t.onStartTransition.call(this),m=0,r.delay((D+I)/ae*ce[i]*H*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width}).animate({height:Math.floor(b/B+Q+1),"margin-top":0,"margin-left":0,width:Math.floor(g/A+$+1)},D-I,j,o),X.eq(n).delay((D+I)/ae*ce[i]*H*.5).animate({"margin-left":-1*marginLeft,"margin-top":-1*marginTop},D-I,j,function(){e(this).css({"margin-top":0,"margin-left":0})})):(t.onStartTransition.call(this),m=parseFloat(D)+parseFloat(I),"next"==U?r.delay((D+I)/ae*ce[i]*H*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid}).animate({height:Math.floor(b/B+Q+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(g/A+$+1)},D-I,j,o):(X.eq(h).show().css("z-index","999").addClass("cameracurrent"),X.eq(n).css("z-index","1").removeClass("cameracurrent"),e(".cameraContent",u).eq(h).addClass("cameracurrent"),e(".cameraContent",u).eq(n).removeClass("cameracurrent"),r.delay((D+I)/ae*ce[i]*H*.5).css({display:"block",height:Math.floor(b/B+Q+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(g/A+$+1)}).animate({height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid},D-I,j,o)))})}else{var be=E[h],ve=new Image;ve.src=be+"?"+(new Date).getTime(),m.css("visibility","hidden"),m.prepend(e(ve).attr("class","imgLoaded").css("visibility","hidden"));var _e,Ce;e(ve).get(0).complete&&"0"!=_e&&"0"!=Ce&&"undefined"!=typeof _e&&_e!==!1&&"undefined"!=typeof Ce&&Ce!==!1||(e(".camera_loader",p).delay(500).fadeIn(400),ve.onload=function(){_e=ve.naturalWidth,Ce=ve.naturalHeight,e(ve).attr("data-alignment",R[h]).attr("data-portrait",L[h]),e(ve).attr("width",_e),e(ve).attr("height",Ce),C.find(".cameraSlide_"+h).hide().css("visibility","visible"),o(),d(h+1)})}}var h={alignment:"center",autoAdvance:!0,mobileAutoAdvance:!0,barDirection:"leftToRight",barPosition:"bottom",cols:6,easing:"easeInOutExpo",mobileEasing:"",fx:"random",mobileFx:"",gridDifference:250,height:"50%",imagePath:"images/",hover:!0,loader:"pie",loaderColor:"#eeeeee",loaderBgColor:"#222222",loaderOpacity:.8,loaderPadding:2,loaderStroke:7,minHeight:"200px",navigation:!0,navigationHover:!0,mobileNavHover:!0,opacityOnGrid:!1,overlayer:!0,pagination:!0,playPause:!0,pauseOnClick:!0,pieDiameter:38,piePosition:"rightTop",portrait:!1,rows:4,slicedCols:12,slicedRows:8,slideOn:"random",thumbnails:!1,time:7e3,transPeriod:1500,onEndTransition:function(){},onLoaded:function(){},onStartLoading:function(){},onStartTransition:function(){}};e.support.borderRadius=!1,e.each(["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],function(){void 0!==document.body.style[this]&&(e.support.borderRadius=!0)});var t=e.extend({},h,t),p=e(this).addClass("camera_wrap");p.wrapInner('<div class="camera_src" />').wrapInner('<div class="camera_fakehover" />');var u=e(".camera_fakehover",p),m=p;u.append('<div class="camera_target"></div>'),1==t.overlayer&&u.append('<div class="camera_overlayer"></div>'),u.append('<div class="camera_target_content"></div>');var f;f="pie"!=t.loader||e.support.borderRadius?t.loader:"bar","pie"==f?u.append('<div class="camera_pie"></div>'):"bar"==f?u.append('<div class="camera_bar"></div>'):u.append('<div class="camera_bar" style="display:none"></div>'),1==t.playPause&&u.append('<div class="camera_commands"></div>'),1==t.navigation&&u.append('<div class="camera_prev"><span></span></div>').append('<div class="camera_next"><span></span></div>'),1==t.thumbnails&&p.append('<div class="camera_thumbs_cont" />'),1==t.thumbnails&&1!=t.pagination&&e(".camera_thumbs_cont",p).wrap("<div />").wrap('<div class="camera_thumbs" />').wrap("<div />").wrap('<div class="camera_command_wrap" />'),1==t.pagination&&p.append('<div class="camera_pag"></div>'),p.append('<div class="camera_loader"></div>'),e(".camera_caption",p).each(function(){e(this).wrapInner("<div />")});var g,b,v="pie_"+p.index(),_=e(".camera_src",p),C=e(".camera_target",p),y=e(".camera_target_content",p),w=e(".camera_pie",p),x=e(".camera_bar",p),T=e(".camera_prev",p),k=e(".camera_next",p),D=e(".camera_commands",p),P=e(".camera_pag",p),q=e(".camera_thumbs_cont",p),E=new Array;e("> div",_).each(function(){E.push(e(this).attr("data-src"))});var S=new Array;e("> div",_).each(function(){e(this).attr("data-link")?S.push(e(this).attr("data-link")):S.push("")});var j=new Array;e("> div",_).each(function(){e(this).attr("data-target")?j.push(e(this).attr("data-target")):j.push("")});var L=new Array;e("> div",_).each(function(){e(this).attr("data-portrait")?L.push(e(this).attr("data-portrait")):L.push("")});var R=new Array;e("> div",_).each(function(){e(this).attr("data-alignment")?R.push(e(this).attr("data-alignment")):R.push("")});var B=new Array;e("> div",_).each(function(){e(this).attr("data-thumb")?B.push(e(this).attr("data-thumb")):B.push("")});var O=E.length;e(y).append('<div class="cameraContents" />');var A;for(A=0;O>A;A++)if(e(".cameraContents",y).append('<div class="cameraContent" />'),""!=S[A]){var H=e("> div ",_).eq(A).attr("data-box");H="undefined"!=typeof H&&H!==!1&&""!=H?'data-box="'+e("> div ",_).eq(A).attr("data-box")+'"':"",e(".camera_target_content .cameraContent:eq("+A+")",p).append('<a class="camera_link" href="'+S[A]+'" '+H+' target="'+j[A]+'"></a>')}e(".camera_caption",p).each(function(){var t=e(this).parent().index(),i=p.find(".cameraContent").eq(t);e(this).appendTo(i)}),C.append('<div class="cameraCont" />');var I,M=e(".cameraCont",p);for(I=0;O>I;I++){M.append('<div class="cameraSlide cameraSlide_'+I+'" />');var F=e("> div:eq("+I+")",_);C.find(".cameraSlide_"+I).clone(F)}e(window).bind("load resize pageshow",function(){l(),n()}),M.append('<div class="cameraSlide cameraSlide_'+I+'" />');var N;p.show();var U,g=C.width(),b=C.height();e(window).bind("resize pageshow",function(){1==N&&o(),e("ul",q).animate({"margin-top":0},0,l),_.hasClass("paused")||(_.addClass("paused"),e(".camera_stop",Z).length?(e(".camera_stop",Z).hide(),e(".camera_play",Z).show(),"none"!=f&&e("#"+v).hide()):"none"!=f&&e("#"+v).hide(),clearTimeout(U),U=setTimeout(function(){_.removeClass("paused"),e(".camera_play",Z).length?(e(".camera_play",Z).hide(),e(".camera_stop",Z).show(),"none"!=f&&e("#"+v).fadeIn()):"none"!=f&&e("#"+v).fadeIn()},1500))});var W,z,K,V,D,P,$,G;if(K=a()&&""!=t.mobileAutoAdvance?t.mobileAutoAdvance:t.autoAdvance,0==K&&_.addClass("paused"),V=a()&&""!=t.mobileNavHover?t.mobileNavHover:t.navigationHover,0!=_.length){var X=e(".cameraSlide",C);X.wrapInner('<div class="camerarelative" />');var Y=t.barDirection,Z=p;e("iframe",u).each(function(){var t=e(this),i=t.attr("src");t.attr("data-src",i);var a=t.parent().index(".camera_src > div");e(".camera_target_content .cameraContent:eq("+a+")",p).append(t)}),s(),1==t.hover&&(a()||u.hover(function(){_.addClass("hovered")},function(){_.removeClass("hovered")})),1==V&&(e(T,p).animate({opacity:0},0),e(k,p).animate({opacity:0},0),e(D,p).animate({opacity:0},0),a()?(e(document).on("vmouseover",m,function(){e(T,p).animate({opacity:1},200),e(k,p).animate({opacity:1},200),e(D,p).animate({opacity:1},200)}),e(document).on("vmouseout",m,function(){e(T,p).delay(500).animate({opacity:0},200),e(k,p).delay(500).animate({opacity:0},200),e(D,p).delay(500).animate({opacity:0},200)})):u.hover(function(){e(T,p).animate({opacity:1},200),e(k,p).animate({opacity:1},200),e(D,p).animate({opacity:1},200)},function(){e(T,p).animate({opacity:0},200),e(k,p).animate({opacity:0},200),e(D,p).animate({opacity:0},200)})),Z.on("click",".camera_stop",function(){K=!1,_.addClass("paused"),e(".camera_stop",Z).length?(e(".camera_stop",Z).hide(),e(".camera_play",Z).show(),"none"!=f&&e("#"+v).hide()):"none"!=f&&e("#"+v).hide()}),Z.on("click",".camera_play",function(){K=!0,_.removeClass("paused"),e(".camera_play",Z).length?(e(".camera_play",Z).hide(),e(".camera_stop",Z).show(),"none"!=f&&e("#"+v).show()):"none"!=f&&e("#"+v).show()}),1==t.pauseOnClick&&e(".camera_target_content",u).mouseup(function(){K=!1,_.addClass("paused"),e(".camera_stop",Z).hide(),e(".camera_play",Z).show(),e("#"+v).hide()}),e(".cameraContent, .imgFake",u).hover(function(){$=!0},function(){$=!1}),e(".cameraContent, .imgFake",u).bind("click",function(){1==G&&1==$&&(K=!1,e(".camera_caption",u).hide(),_.addClass("paused"),e(".camera_stop",Z).hide(),e(".camera_play",Z).show(),e("#"+v).hide())})}if("pie"!=f){x.append('<span class="camera_bar_cont" />'),e(".camera_bar_cont",x).animate({opacity:t.loaderOpacity},0).css({position:"absolute",left:0,right:0,top:0,bottom:0,"background-color":t.loaderBgColor}).append('<span id="'+v+'" />'),e("#"+v).animate({opacity:0},0);var Q=e("#"+v);switch(Q.css({position:"absolute","background-color":t.loaderColor}),t.barPosition){case"left":x.css({right:"auto",width:t.loaderStroke});break;case"right":x.css({left:"auto",width:t.loaderStroke});break;case"top":x.css({bottom:"auto",height:t.loaderStroke});break;case"bottom":x.css({top:"auto",height:t.loaderStroke})}switch(Y){case"leftToRight":Q.css({left:0,right:0,top:t.loaderPadding,bottom:t.loaderPadding});break;case"rightToLeft":Q.css({left:0,right:0,top:t.loaderPadding,bottom:t.loaderPadding});break;case"topToBottom":Q.css({left:t.loaderPadding,right:t.loaderPadding,top:0,bottom:0});break;case"bottomToTop":Q.css({left:t.loaderPadding,right:t.loaderPadding,top:0,bottom:0})}}else{w.append('<canvas id="'+v+'"></canvas>');var Q=document.getElementById(v);Q.setAttribute("width",t.pieDiameter),Q.setAttribute("height",t.pieDiameter);var J;switch(t.piePosition){case"leftTop":J="left:0; top:0;";break;case"rightTop":J="right:0; top:0;";break;case"leftBottom":J="left:0; bottom:0;";break;case"rightBottom":J="right:0; bottom:0;"}Q.setAttribute("style","position:absolute; z-index:1002; "+J);var ee,te;if(Q&&Q.getContext){var ie=Q.getContext("2d");ie.rotate(1.5*Math.PI),ie.translate(-t.pieDiameter,0);
}}if(("none"==f||0==K)&&(e("#"+v).hide(),e(".camera_canvas_wrap",Z).hide()),e(P).length){e(P).append('<ul class="camera_pag_ul" />');var ae;for(ae=0;O>ae;ae++)e(".camera_pag_ul",p).append('<li class="pag_nav_'+ae+'" style="position:relative; z-index:1002"><span><span>'+ae+"</span></span></li>");e(".camera_pag_ul li",p).hover(function(){if(e(this).addClass("camera_hover"),e(".camera_thumb",this).length){var t=e(".camera_thumb",this).outerWidth(),i=e(".camera_thumb",this).outerHeight(),a=e(this).outerWidth();e(".camera_thumb",this).show().css({top:"-"+i+"px",left:"-"+(t-a)/2+"px"}).animate({opacity:1,"margin-top":"-3px"},200),e(".thumb_arrow",this).show().animate({opacity:1,"margin-top":"-3px"},200)}},function(){e(this).removeClass("camera_hover"),e(".camera_thumb",this).animate({"margin-top":"-20px",opacity:0},200,function(){e(this).css({marginTop:"5px"}).hide()}),e(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){e(this).css({marginTop:"5px"}).hide()})})}if(e(q).length){e(P).length?(e.each(B,function(t,i){if(""!=e("> div",_).eq(t).attr("data-thumb")){var a=e("> div",_).eq(t).attr("data-thumb"),n=new Image;n.src=a,e("li.pag_nav_"+t,P).append(e(n).attr("class","camera_thumb").css({position:"absolute"}).animate({opacity:0},0)),e("li.pag_nav_"+t+" > img",P).after('<div class="thumb_arrow" />'),e("li.pag_nav_"+t+" > .thumb_arrow",P).animate({opacity:0},0)}}),p.css({marginBottom:e(P).outerHeight()})):(e(q).append("<div />"),e(q).before('<div class="camera_prevThumbs hideNav"><div></div></div>').before('<div class="camera_nextThumbs hideNav"><div></div></div>'),e("> div",q).append("<ul />"),e.each(B,function(t,i){if(""!=e("> div",_).eq(t).attr("data-thumb")){var a=e("> div",_).eq(t).attr("data-thumb"),n=new Image;n.src=a,e("ul",q).append('<li class="pix_thumb pix_thumb_'+t+'" />'),e("li.pix_thumb_"+t,q).append(e(n).attr("class","camera_thumb"))}}))}else!e(q).length&&e(P).length&&p.css({marginBottom:e(P).outerHeight()});var ne=!0;e(D).length&&(e(D).append('<div class="camera_play"></div>').append('<div class="camera_stop"></div>'),1==K?(e(".camera_play",Z).hide(),e(".camera_stop",Z).show()):(e(".camera_stop",Z).hide(),e(".camera_play",Z).show())),c(),e(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",u).each(function(){e(this).css("visibility","hidden")}),t.onStartLoading.call(this),d(),e(T).length&&e(T).click(function(){if(!_.hasClass("camerasliding")){var i=parseFloat(e(".cameraSlide.cameracurrent",C).index());clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",p).animate({opacity:0},0),c(),d(0!=i?i:O),t.onStartLoading.call(this)}}),e(k).length&&e(k).click(function(){if(!_.hasClass("camerasliding")){var i=parseFloat(e(".cameraSlide.cameracurrent",C).index());clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",Z).animate({opacity:0},0),c(),d(i==O-1?1:i+2),t.onStartLoading.call(this)}}),a()&&(u.bind("swipeleft",function(i){if(!_.hasClass("camerasliding")){var a=parseFloat(e(".cameraSlide.cameracurrent",C).index());clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",Z).animate({opacity:0},0),c(),d(a==O-1?1:a+2),t.onStartLoading.call(this)}}),u.bind("swiperight",function(i){if(!_.hasClass("camerasliding")){var a=parseFloat(e(".cameraSlide.cameracurrent",C).index());clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",Z).animate({opacity:0},0),c(),d(0!=a?a:O),t.onStartLoading.call(this)}})),e(P).length&&e(".camera_pag li",p).click(function(){if(!_.hasClass("camerasliding")){var i=parseFloat(e(this).index()),a=parseFloat(e(".cameraSlide.cameracurrent",C).index());i!=a&&(clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",Z).animate({opacity:0},0),c(),d(i+1),t.onStartLoading.call(this))}}),e(q).length&&(e(".pix_thumb img",q).click(function(){if(!_.hasClass("camerasliding")){var i=parseFloat(e(this).parents("li").index()),a=parseFloat(e(".cameracurrent",C).index());i!=a&&(clearInterval(W),s(),e("#"+v+", .camera_canvas_wrap",Z).animate({opacity:0},0),e(".pix_thumb",q).removeClass("cameracurrent"),e(this).parents("li").addClass("cameracurrent"),c(),d(i+1),l(),t.onStartLoading.call(this))}}),e(".camera_thumbs_cont .camera_prevThumbs",Z).hover(function(){e(this).stop(!0,!1).animate({opacity:1},250)},function(){e(this).stop(!0,!1).animate({opacity:.7},250)}),e(".camera_prevThumbs",Z).click(function(){var t=0,i=(e(q).outerWidth(),e("ul",q).offset().left),a=e("> div",q).offset().left,o=a-i;e(".camera_visThumb",q).each(function(){var i=e(this).outerWidth();t+=i}),o-t>0?e("ul",q).animate({"margin-left":"-"+(o-t)+"px"},500,n):e("ul",q).animate({"margin-left":0},500,n)}),e(".camera_thumbs_cont .camera_nextThumbs",Z).hover(function(){e(this).stop(!0,!1).animate({opacity:1},250)},function(){e(this).stop(!0,!1).animate({opacity:.7},250)}),e(".camera_nextThumbs",Z).click(function(){var t=0,i=e(q).outerWidth(),a=e("ul",q).outerWidth(),o=e("ul",q).offset().left,s=e("> div",q).offset().left,r=s-o;e(".camera_visThumb",q).each(function(){var i=e(this).outerWidth();t+=i}),a>r+t+t?e("ul",q).animate({"margin-left":"-"+(r+t)+"px"},500,n):e("ul",q).animate({"margin-left":"-"+(a-i)+"px"},500,n)}))}}(jQuery),function(e){e.fn.cameraStop=function(){var t=e(this),i=e(".camera_src",t);"pie_"+t.index();if(i.addClass("stopped"),e(".camera_showcommands").length){e(".camera_thumbs_wrap",t)}else;}}(jQuery),function(e){e.fn.cameraPause=function(){var t=e(this),i=e(".camera_src",t);i.addClass("paused")}}(jQuery),function(e){e.fn.cameraResume=function(){var t=e(this),i=e(".camera_src",t);("undefined"==typeof autoAdv||autoAdv!==!0)&&i.removeClass("paused")}}(jQuery),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(a){return i(a,e,t),a.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,a){!function(e,t,a){function n(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var o,s="hashchange",r=i,l=e.event.special,c=r.documentMode,d="on"+s in t&&(c===a||c>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,l[s]=e.extend(l[s],{setup:function(){return d?!1:void e(o.start)},teardown:function(){return d?!1:void e(o.stop)}}),o=function(){function i(){var a=n(),r=u(c);a!==c?(p(c=a,r),e(t).trigger(s)):r!==c&&(location.href=location.href.replace(/#.*/,"")+r),o=setTimeout(i,e.fn[s].delay)}var o,l={},c=n(),h=function(e){return e},p=h,u=h;return l.start=function(){o||i()},l.stop=function(){o&&clearTimeout(o),o=a},t.attachEvent&&!t.addEventListener&&!d&&function(){var t,a;l.start=function(){t||(a=e.fn[s].src,a=a&&a+n(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){a||p(n()),i()}).attr("src",a||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=r.title)}catch(e){}})},l.stop=h,u=function(){return n(t.location.href)},p=function(i,a){var n=t.document,o=e.fn[s].domain;i!==a&&(n.title=r.title,n.open(),o&&n.write('<script>document.domain="'+o+'"</script>'),n.close(),t.location.hash=i)}}(),l}()}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,i,a,n=250,o=function(){i=(new Date).getTime(),a=i-s,a>=n?(s=i,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,n-a))},s=0}(e),function(e,t){e.fn.fieldcontain=function(e){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},e(i).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(e),function(e,t){e.fn.grid=function(t){return this.each(function(){var i,a=e(this),n=e.extend({grid:null},t),o=a.children(),s={solo:1,a:2,b:3,c:4,d:5},r=n.grid;if(!r)if(o.length<=5)for(var l in s)s[l]===o.length&&(r=l);else r="a",a.addClass("ui-grid-duo");i=s[r],a.addClass("ui-grid-"+r),o.filter(":nth-child("+i+"n+1)").addClass("ui-block-a"),i>1&&o.filter(":nth-child("+i+"n+2)").addClass("ui-block-b"),i>2&&o.filter(":nth-child("+i+"n+3)").addClass("ui-block-c"),i>3&&o.filter(":nth-child("+i+"n+4)").addClass("ui-block-d"),i>4&&o.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(e),function(e){e.mobile={}}(e),function(e,t,a){var n={};e.mobile=e.extend(e.mobile,{version:"1.3.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:e(t),document:e(i),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:n,nsNormalize:function(t){return t?n[t]||(n[t]=e.camelCase(e.mobile.ns+t)):void 0},getInheritedTheme:function(e,t){for(var i,a,n=e[0],o="",s=/ui-(bar|body|overlay)-([a-z])\b/;n&&(i=n.className||"",!(i&&(a=s.exec(i))&&(o=a[2])));)n=n.parentNode;return o||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;for(var a,n,o,s=t.length,r=e(),l=0;s>l;l++){for(n=t.eq(l),o=!1,a=t[l];a;){var c=a.getAttribute?a.getAttribute("data-"+e.mobile.ns+i):"";if("false"===c){o=!0;break}a=a.parentNode}o||(r=r.add(n))}return r},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()}},e.mobile),e.fn.jqmData=function(t,i){var n;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),n=arguments.length<2||i===a?this.data(t):this.data(t,i)),n},e.jqmData=function(t,i,a){var n;return"undefined"!=typeof i&&(n=e.data(t,i?e.mobile.nsNormalize(i):i,a)),n},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,i){var a=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(a,i))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var o=e.find,s=/:jqmData\(([^)]*)\)/g;e.find=function(t,i,a,n){return t=t.replace(s,"[data-"+(e.mobile.ns||"")+"$1]"),o.call(this,t,i,a,n)},e.extend(e.find,o),e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0}}(e,this),function(e,a){t.matchMedia=t.matchMedia||function(e,t){var i,a=e.documentElement,n=a.firstElementChild||a.firstChild,o=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(o,n),i=42===s.offsetWidth,a.removeChild(o),{matches:i,media:e}}}(i),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,i){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,t){function a(){var e=n();e!==o&&(o=e,l.trigger(c))}var n,o,s,r,l=e(t),c="orientationchange",d={0:!0,180:!0};if(e.support.orientation){var h=t.innerWidth||l.width(),p=t.innerHeight||l.height(),u=50;s=h>p&&h-p>u,r=d[t.orientation],(s&&r||!s&&!r)&&(d={"-90":!0,90:!0})}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(o=n(),void l.bind("throttledresize",a))},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:void l.unbind("throttledresize",a)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=n(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=n=function(){var a=!0,n=i.documentElement;return a=e.support.orientation?d[t.orientation]:n&&n.clientWidth/n.clientHeight<1.1,a?"portrait":"landscape"},e.fn[c]=function(e){return e?this.bind(c,e):this.trigger(c)},e.attrFn&&(e.attrFn[c]=!0)}(e,this),function(e,t){var a={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,a),e.extend(e.mobile.support,a)}(e),function(e,a){function n(e){var t=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+u.join(t+" ")+t).split(" ");for(var n in i)if(p[i[n]]!==a)return!0}function o(e,t,a){for(var n,o=i.createElement("div"),s=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},r=function(e){return""===e?"":"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},l=function(i){var a=r(i)+e+": "+t+";",l=s(i),c=l+(""===l?e:s(e));o.setAttribute("style",a),!o.style[c]||(n=!0)},c=a?a:u,d=0;d<c.length;d++)l(c[d]);return!!n}function s(){var n="transform-3d",o=e.mobile.media("(-"+u.join("-"+n+"),(-")+"-"+n+"),("+n+")");if(o)return!!o;var s=i.createElement("div"),r={MozTransform:"-moz-transform",transform:"transform"};h.append(s);for(var l in r)s.style[l]!==a&&(s.style[l]="translate3d( 100px, 1px, 1px )",o=t.getComputedStyle(s).getPropertyValue(r[l]));return!!o&&"none"!==o}function r(){var t,i,a=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=e("head base"),o=null,s="";return n.length?s=n.attr("href"):n=o=e("<base>",{href:a}).appendTo("head"),t=e("<a href='testurl' />").prependTo(h),i=t[0].href,n[0].href=s||location.pathname,o&&o.remove(),0===i.indexOf(a)}function l(){var e,a=i.createElement("x"),n=i.documentElement,o=t.getComputedStyle;return"pointerEvents"in a.style?(a.style.pointerEvents="auto",a.style.pointerEvents="x",n.appendChild(a),e=o&&"auto"===o(a,"").pointerEvents,n.removeChild(a),!!e):!1}function c(){var e=i.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function d(){var e=t,i=navigator.userAgent,a=navigator.platform,n=i.match(/AppleWebKit\/([0-9]+)/),o=!!n&&n[1],s=i.match(/Fennec\/([0-9]+)/),r=!!s&&s[1],l=i.match(/Opera Mobi\/([0-9]+)/),c=!!l&&l[1];return(a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1||a.indexOf("iPod")>-1)&&o&&534>o||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&7458>c||i.indexOf("Android")>-1&&o&&533>o||r&&6>r||"palmGetResource"in t&&o&&534>o||i.indexOf("MeeGo")>-1&&i.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var h=e("<body>").prependTo("html"),p=h[0].style,u=["Webkit","Moz","O"],m="palmGetResource"in t,f=t.opera,g=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),b=t.blackberry&&!n("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=i.createElement("div"),a=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(a[0]);return e>4?e:!e}(),e.extend(e.support,{cssTransitions:"WebKitTransitionEvent"in t||o("transition","height 100ms linear",["Webkit","Moz",""])&&!e.mobile.browser.oldIE&&!f,pushState:"pushState"in history&&"replaceState"in history&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!n("content"),touchOverflow:!!n("overflowScrolling"),cssTransform3d:s(),boxShadow:!!n("boxShadow")&&!b,fixedPosition:d(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in h[0])&&!m&&!g,dynamicBaseTag:r(),cssPointerEvents:l(),boundingRect:c()}),h.remove();var v=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return(e.support.mediaquery||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=7)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||g||v,v&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(e),function(e,t){var i,a=e.mobile.window;e.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var i=new e.Event("navigate"),n=new e.Event("beforenavigate"),o=t.originalEvent.state||{};location.href;a.trigger(n),n.isDefaultPrevented()||(t.historyState&&e.extend(o,t.historyState),i.originalEvent=t,setTimeout(function(){a.trigger(i,{state:o})},0))},hashchange:function(t,i){var n=new e.Event("navigate"),o=new e.Event("beforenavigate");a.trigger(o),o.isDefaultPrevented()||(n.originalEvent=t,a.trigger(n,{state:t.hashchangeState||{}}))},setup:function(e,t){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",a.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",a.bind("hashchange.navigate",i.hashchange)))}}}(e),function(e,t,i){var a=function(a){return a===i&&(a=!0),function(i,n,o,s){var r=new e.Deferred,l=n?" reverse":"",c=e.mobile.urlHistory.getActive(),d=c.lastScroll||e.mobile.defaultHomeScroll,h=e.mobile.getScreenHeight(),p=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth,u=!e.support.cssTransitions||p||!i||"none"===i||Math.max(e.mobile.window.scrollTop(),d)>e.mobile.getMaxScrollForTransition(),m=" ui-page-pre-in",f=function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+i)},g=function(){e.event.special.scrollstart.enabled=!1,t.scrollTo(0,d),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},b=function(){s.removeClass(e.mobile.activePageClass+" out in reverse "+i).height("")},v=function(){a?s.animationComplete(_):_(),s.height(h+e.mobile.window.scrollTop()).addClass(i+" out"+l)},_=function(){s&&a&&b(),C()},C=function(){o.css("z-index",-10),o.addClass(e.mobile.activePageClass+m),e.mobile.focusPage(o),o.height(h+d),g(),o.css("z-index",""),u||o.animationComplete(y),o.removeClass(m).addClass(i+" in"+l),u&&y()},y=function(){a||s&&b(),o.removeClass("out in reverse "+i).height(""),f(),e.mobile.window.scrollTop()!==d&&g(),r.resolve(i,n,o,s,!0)};return f(),s&&!u?v():_(),r.promise()}},n=a(),o=a(!1),s=function(){return 3*e.mobile.getScreenHeight()};e.mobile.defaultTransitionHandler=n,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler,sequential:n,simultaneous:o},e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||s}(e,this),function(e,t,i,a){function n(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,i){var o,s,r,l,c,d,h,p,u,m=t.type;if(t=e.Event(t),t.type=i,o=t.originalEvent,s=e.event.props,m.search(/^(mouse|click)/)>-1&&(s=E),o)for(h=s.length,l;h;)l=s[--h],t[l]=o[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(r=n(o),m=r.touches,c=r.changedTouches,d=m&&m.length?m[0]:c&&c.length?c[0]:a,d))for(p=0,u=P.length;u>p;p++)l=P[p],t[l]=d[l];return t}function s(t){for(var i,a,n={};t;){i=e.data(t,T);for(a in i)i[a]&&(n[a]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function r(t,i){for(var a;t;){if(a=e.data(t,T),a&&(!i||a[i]))return t;t=t.parentNode}return null}function l(){H=!1}function c(){H=!0}function d(){N=0,O.length=0,A=!1,c()}function h(){l()}function p(){u(),j=setTimeout(function(){j=0,d()},e.vmouse.resetTimerDuration)}function u(){j&&(clearTimeout(j),j=0)}function m(t,i,a){var n;return(a&&a[t]||!a&&r(i.target,t))&&(n=o(i,t),e(i.target).trigger(n)),n}function f(t){var i=e.data(t.target,k);if(!(A||N&&N===i)){var a=m("v"+t.type,t);a&&(a.isDefaultPrevented()&&t.preventDefault(),a.isPropagationStopped()&&t.stopPropagation(),a.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var i,a,o=n(t).touches;if(o&&1===o.length&&(i=t.target,a=s(i),a.hasVirtualBinding)){N=F++,e.data(i,k,N),u(),h(),B=!1;var r=n(t).touches[0];L=r.pageX,R=r.pageY,m("vmouseover",t,a),m("vmousedown",t,a)}}function b(e){H||(B||m("vmousecancel",e,s(e.target)),B=!0,p())}function v(t){if(!H){var i=n(t).touches[0],a=B,o=e.vmouse.moveDistanceThreshold,r=s(t.target);B=B||Math.abs(i.pageX-L)>o||Math.abs(i.pageY-R)>o,B&&!a&&m("vmousecancel",t,r),m("vmousemove",t,r),p()}}function _(e){if(!H){c();var t,i=s(e.target);if(m("vmouseup",e,i),!B){var a=m("vclick",e,i);a&&a.isDefaultPrevented()&&(t=n(e).changedTouches[0],O.push({touchID:N,x:t.clientX,y:t.clientY}),A=!0)}m("vmouseout",e,i),B=!1,p()}}function C(t){var i,a=e.data(t,T);if(a)for(i in a)if(a[i])return!0;return!1}function y(){}function w(t){var i=t.substr(1);return{setup:function(a,n){C(this)||e.data(this,T,{});var o=e.data(this,T);o[t]=!0,S[t]=(S[t]||0)+1,1===S[t]&&M.bind(i,f),e(this).bind(i,y),I&&(S.touchstart=(S.touchstart||0)+1,1===S.touchstart&&M.bind("touchstart",g).bind("touchend",_).bind("touchmove",v).bind("scroll",b))},teardown:function(a,n){--S[t],S[t]||M.unbind(i,f),I&&(--S.touchstart,S.touchstart||M.unbind("touchstart",g).unbind("touchmove",v).unbind("touchend",_).unbind("scroll",b));var o=e(this),s=e.data(this,T);s&&(s[t]=!1),o.unbind(i,y),C(this)||o.removeData(T)}}}var x,T="virtualMouseBindings",k="virtualTouchID",D="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),P="clientX clientY pageX pageY screenX screenY".split(" "),q=e.event.mouseHooks?e.event.mouseHooks.props:[],E=e.event.props.concat(q),S={},j=0,L=0,R=0,B=!1,O=[],A=!1,H=!1,I="addEventListener"in i,M=e(i),F=1,N=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<D.length;U++)e.event.special[D[U]]=w(D[U]);I&&i.addEventListener("click",function(t){var i,a,n,o,s,r,l=O.length,c=t.target;if(l)for(i=t.clientX,a=t.clientY,x=e.vmouse.clickDistanceThreshold,n=c;n;){for(o=0;l>o;o++)if(s=O[o],r=0,n===c&&Math.abs(s.x-i)<x&&Math.abs(s.y-a)<x||e.data(n,k)===s.touchID)return t.preventDefault(),void t.stopPropagation();n=n.parentNode}},!0)}(e,t,i),function(e,t,a){function n(t,i,a){var n=a.type;a.type=i,e.event.dispatch.call(t,a),a.type=n}var o=e(i);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)});var s=e.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",c=s?"touchend":"mouseup",d=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,n(o,i?"scrollstart":"scrollstop",e)}var i,a,o=this,s=e(o);s.bind(r,function(n){e.event.special.scrollstart.enabled&&(i||t(n,!0),clearTimeout(a),a=setTimeout(function(){t(n,!1)},50))})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,i=e(t);i.bind("vmousedown",function(a){function s(){clearTimeout(c)}function r(){s(),i.unbind("vclick",l).unbind("vmouseup",s),o.unbind("vmousecancel",r)}function l(e){r(),d===e.target&&n(t,"tap",e)}if(a.which&&1!==a.which)return!1;var c,d=a.target;a.originalEvent;i.bind("vmouseup",s).bind("vclick",l),o.bind("vmousecancel",r),c=setTimeout(function(){n(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i){i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>i.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,i=e(t);i.bind(l,function(t){function n(t){s&&(o=e.event.special.swipe.stop(t),Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var o,s=e.event.special.swipe.start(t);i.bind(d,n).one(c,function(){i.unbind(d,n),s&&o&&e.event.special.swipe.handleSwipe(s,o),s=o=a})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)}}})}(e,this),function(e,t){function a(e){for(var t;e&&(t="string"==typeof e.className&&e.className+" ",!(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0));)e=e.parentNode;return e}function n(a,n,o,s,r){var l=e.data(a[0],"buttonElements");a.removeClass(n).addClass(o),l&&(l.bcls=e(i.createElement("div")).addClass(l.bcls+" "+o).removeClass(n).attr("class"),s!==t&&(l.hover=s),l.state=r)}var o=function(e,i){var a=e.getAttribute(i);return"true"===a?!0:"false"===a?!1:null===a?t:a};e.fn.buttonMarkup=function(a){var n,r=this,l="data-"+e.mobile.ns;a=a&&"object"===e.type(a)?a:{};for(var c=0;c<r.length;c++){var d,h,p,u,m,f,g=r.eq(c),b=g[0],v=e.extend({},e.fn.buttonMarkup.defaults,{icon:a.icon!==t?a.icon:o(b,l+"icon"),iconpos:a.iconpos!==t?a.iconpos:o(b,l+"iconpos"),theme:a.theme!==t?a.theme:o(b,l+"theme")||e.mobile.getInheritedTheme(g,"c"),inline:a.inline!==t?a.inline:o(b,l+"inline"),shadow:a.shadow!==t?a.shadow:o(b,l+"shadow"),corners:a.corners!==t?a.corners:o(b,l+"corners"),iconshadow:a.iconshadow!==t?a.iconshadow:o(b,l+"iconshadow"),mini:a.mini!==t?a.mini:o(b,l+"mini")},a),_="ui-btn-inner",C="ui-btn-text",y=!1,w="up";for(n in v)b.setAttribute(l+n,v[n]);for("popup"===o(b,l+"rel")&&g.attr("href")&&(b.setAttribute("aria-haspopup",!0),b.setAttribute("aria-owns",g.attr("href"))),f=e.data("INPUT"===b.tagName||"BUTTON"===b.tagName?b.parentNode:b,"buttonElements"),f?(b=f.outer,g=e(b),p=f.inner,u=f.text,e(f.icon).remove(),f.icon=null,y=f.hover,w=f.state):(p=i.createElement(v.wrapperEls),u=i.createElement(v.wrapperEls)),m=v.icon?i.createElement("span"):null,s&&!f&&s(),v.theme||(v.theme=e.mobile.getInheritedTheme(g,"c")),d="ui-btn ",d+=y?"ui-btn-hover-"+v.theme:"",d+=w?" ui-btn-"+w+"-"+v.theme:"",d+=v.shadow?" ui-shadow":"",d+=v.corners?" ui-btn-corner-all":"",v.mini!==t&&(d+=v.mini===!0?" ui-mini":" ui-fullsize"),v.inline!==t&&(d+=v.inline===!0?" ui-btn-inline":" ui-btn-block"),v.icon&&(v.icon="ui-icon-"+v.icon,v.iconpos=v.iconpos||"left",h="ui-icon "+v.icon,v.iconshadow&&(h+=" ui-icon-shadow")),v.iconpos&&(d+=" ui-btn-icon-"+v.iconpos,"notext"===v.iconpos&&!g.attr("title")&&g.attr("title",g.getEncodedText())),v.iconpos&&"notext"===v.iconpos&&!g.attr("title")&&g.attr("title",g.getEncodedText()),f&&g.removeClass(f.bcls||""),g.removeClass("ui-link").addClass(d),p.className=_,u.className=C,f||p.appendChild(u),m&&(m.className=h,f&&f.icon||(m.innerHTML="&#160;",p.appendChild(m)));b.firstChild&&!f;)u.appendChild(b.firstChild);f||b.appendChild(p),f={hover:y,state:w,bcls:d,outer:b,inner:p,text:u,icon:m},e.data(b,"buttonElements",f),e.data(p,"buttonElements",f),e.data(u,"buttonElements",f),m&&e.data(m,"buttonElements",f)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var s=function(){var i,o,r=e.mobile.buttonMarkup.hoverDelay;e.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(s){var l,c=e(a(s.target)),d=s.originalEvent&&/^touch/.test(s.originalEvent.type),h=s.type;c.length&&(l=c.attr("data-"+e.mobile.ns+"theme"),"vmousedown"===h?d?i=setTimeout(function(){n(c,"ui-btn-up-"+l,"ui-btn-down-"+l,t,"down")},r):n(c,"ui-btn-up-"+l,"ui-btn-down-"+l,t,"down"):"vmousecancel"===h||"vmouseup"===h?n(c,"ui-btn-down-"+l,"ui-btn-up-"+l,t,"up"):"vmouseover"===h||"focus"===h?d?o=setTimeout(function(){n(c,"ui-btn-up-"+l,"ui-btn-hover-"+l,!0,"")},r):n(c,"ui-btn-up-"+l,"ui-btn-hover-"+l,!0,""):("vmouseout"===h||"blur"===h||"scrollstart"===h)&&(n(c,"ui-btn-hover-"+l+" ui-btn-down-"+l,"ui-btn-up-"+l,!1,"up"),i&&clearTimeout(i),o&&clearTimeout(o)))},"focusin focus":function(t){e(a(t.target)).addClass(e.mobile.focusClass)},"focusout blur":function(t){e(a(t.target)).removeClass(e.mobile.focusClass)}}),s=null};e.mobile.document.bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),function(e,t){var i=0,a=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,a=0;null!=(i=t[a]);a++)try{e(i).triggerHandler("remove")}catch(o){}n(t)},e.widget=function(t,i,a){var n,o,s,r,l=t.split(".")[0];t=t.split(".")[1],n=l+"-"+t,a||(a=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(a,function(t,n){e.isFunction(n)&&(a[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=a,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}())}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(i){for(var n,o,s=a.call(arguments,1),r=0,l=s.length;l>r;r++)for(n in s[r])o=s[r][n],s[r].hasOwnProperty(n)&&o!==t&&(e.isPlainObject(o)?i[n]=e.isPlainObject(i[n])?e.widget.extend({},i[n],o):e.widget.extend({},o):i[n]=o);return i},e.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;e.fn[i]=function(s){var r="string"==typeof s,l=a.call(arguments,1),c=this;return s=!r&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,r?this.each(function(){var a,n=e.data(this,o);return n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(a=n[s].apply(n,l),a!==n&&a!==t?(c=a&&a.jquery?c.pushStack(a.get()):a,!1):void 0):e.error("no such method '"+s+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new n(s,this));
}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,a){var n,o,s,r=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=e.widget.extend({},this.options[i]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(i=n.pop(),a===t)return o[i]===t?null:o[i];o[i]=a}else{if(a===t)return this.options[i]===t?null:this.options[i];r[i]=a}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,a){var n,o=this;"boolean"!=typeof t&&(a=i,i=t,t=!1),a?(i=n=e(i),this.bindings=this.bindings.add(i)):(a=i,i=this.element,n=this.widget()),e.each(a,function(a,s){function r(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||e.guid++);var l=a.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?n.delegate(d,c,r):i.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,a){var n,o,s=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent,o)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,a),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(a))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,n,o){"string"==typeof n&&(n={effect:n});var s,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=o,n.delay&&a.delay(n.delay),s&&e.effects&&e.effects.effect[r]?a[t](n):r!==t&&a[r]?a[r](n.duration,n.easing,o):a.queue(function(i){e(this)[t](),o&&o.call(a[0]),i()})}})}(e),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var i=this.element,a={};return e.each(this.options,function(e){var n=i.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));n!==t&&(a[e]=n)}),a},enhanceWithin:function(t,i){this.enhance(e(this.options.initSelector,e(t)),i)},enhance:function(t,i){var a,n,o=e(t);o=e.mobile.enhanceable(o),i&&o.length&&(a=e.mobile.closestPageData(o),n=a&&a.keepNativeSelector()||"",o=o.not(n)),o[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}})}(e),function(e){var t=e("meta[name=viewport]"),i=t.attr("content"),a=i+",maximum-scale=1, user-scalable=no",n=i+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);e.mobile.zoom=e.extend({},{enabled:!o,locked:!1,disable:function(i){!o&&!e.mobile.zoom.locked&&(t.attr("content",a),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=i||!1)},enable:function(i){!o&&(!e.mobile.zoom.locked||i===!0)&&(t.attr("content",n),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){o||(t.attr("content",i),e.mobile.zoom.enabled=!0)}})}(e),function(e,i){var a,n,o="&ui-state=dialog";e.mobile.path=a={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=e?this.parseUrl(e):location,i=this.parseUrl(e||location.href).hash;return i="#"===i?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var i=a.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var i=t?t.split("/"):[],a=e.split("/"),n=0;n<a.length;n++){var o=a[n];switch(o){case".":break;case"..":i.length&&i.pop();break;default:i.push(o)}}return"/"+i.join("/")},isSameDomain:function(e,t){return a.parseUrl(e).domain===a.parseUrl(t).domain},isRelativeUrl:function(e){return""===a.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==a.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!a.isRelativeUrl(e))return e;t===i&&(t=this.documentBase);var n=a.parseUrl(e),o=a.parseUrl(t),s=n.protocol||o.protocol,r=n.protocol?n.doubleSlash:n.doubleSlash||o.doubleSlash,l=n.authority||o.authority,c=""!==n.pathname,d=a.makePathAbsolute(n.pathname||o.filename,o.pathname),h=n.search||!c&&o.search||"",p=n.hash;return s+r+l+d+h+p},addSearchParams:function(t,i){var n=a.parseUrl(t),o="object"==typeof i?e.param(i):i,s=n.search||"?";return n.hrefNoSearch+s+("?"!==s.charAt(s.length-1)?"&":"")+o+(n.hash||"")},convertUrlToDataUrl:function(e){var i=a.parseUrl(e);return a.isEmbeddedPage(i)?i.hash.split(o)[0].replace(/^#/,"").replace(/\?.*$/,""):a.isSameDomain(i,this.documentBase)?i.hrefNoHash.replace(this.documentBase.domain,"").split(o)[0]:t.decodeURIComponent(e)},get:function(e){return e===i&&(e=a.parseLocation().hash),a.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return a.stripHash(e.replace(/\?.*$/,"").replace(o,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=a.parseUrl(e);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=a.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var i,n,o,s,r=this.isPath(e),l=this.parseUrl(e),c=l.hash,d="";return t=t||(a.isPath(e)?a.getLocation():a.getDocumentUrl()),n=r?a.stripHash(e):e,n=a.isPath(l.hash)?a.stripHash(l.hash):n,s=n.indexOf(this.uiStateKey),s>-1&&(d=n.slice(s),n=n.slice(0,s)),i=a.makeUrlAbsolute(n,t),o=this.parseUrl(i).search,r?((a.isPath(c)||0===c.replace("#","").indexOf(this.uiStateKey))&&(c=""),d&&-1===c.indexOf(this.uiStateKey)&&(c+=d),-1===c.indexOf("#")&&""!==c&&(c="#"+c),i=a.parseUrl(i),i=i.protocol+"//"+i.host+i.pathname+o+c):i+=i.indexOf("#")>-1?d:"#"+d,i},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)}},a.documentUrl=a.parseLocation(),n=e("head").find("base"),a.documentBase=n.length?a.parseUrl(a.makeUrlAbsolute(n.attr("href"),a.documentUrl.href)):a.documentUrl,a.documentBaseDiffers=a.documentUrl.hrefNoHash!==a.documentBase.hrefNoHash,a.getDocumentUrl=function(t){return t?e.extend({},a.documentUrl):a.documentUrl.href},a.getDocumentBase=function(t){return t?e.extend({},a.documentBase):a.documentBase.href}}(e),function(e,t){e.mobile.path;e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,i){t=t||this.stack;var a,n,o,s=t.length;for(n=0;s>n;n++)if(a=t[n],(decodeURIComponent(e)===decodeURIComponent(a.url)||decodeURIComponent(e)===decodeURIComponent(a.hash))&&(o=n,i))return o;return o},closest:function(e){var i,a=this.activeIndex;return i=this.find(e,this.stack.slice(0,a)),i===t&&(i=this.find(e,this.stack.slice(a),!0),i=i===t?i:i+a),i},direct:function(i){var a=this.closest(i.url),n=this.activeIndex;a!==t&&(this.activeIndex=a,this.previousIndex=n),n>a?(i.present||i.back||e.noop)(this.getActive(),"back"):a>n?(i.present||i.forward||e.noop)(this.getActive(),"forward"):a===t&&i.missing&&i.missing(this.getActive())}})}(e),function(e,a){var n=e.mobile.path;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,setTimeout(e.proxy(function(){this.ignoreInitialHashChange=!1},this),200),e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(a,o){var s,r,l=n.isPath(a)?n.stripHash(a):a;return r=n.squash(a),s=e.extend({hash:l,url:r},o),t.history.replaceState(s,s.title||i.title,r),s},hash:function(e,t){var i,a,o;if(i=n.parseUrl(e),a=n.parseLocation(),a.pathname+a.search===i.pathname+i.search)o=i.hash?i.hash:i.pathname+i.search;else if(n.isPath(e)){var s=n.parseUrl(t);o=s.pathname+s.search+(n.isPreservableHash(s.hash)?s.hash.replace("#",""):"")}else o=e;return o},go:function(a,o,s){var r,l,c,d,h=e.event.special.navigate.isPushStateEnabled();l=n.squash(a),c=this.hash(a,l),s&&c!==n.stripHash(n.parseLocation().hash)&&(this.preventNextHashChange=s),this.preventHashAssignPopState=!0,t.location.hash=c,this.preventHashAssignPopState=!1,r=e.extend({url:l,hash:c,title:i.title},o),h&&(d=new e.Event("popstate"),d.originalEvent={type:"popstate",state:null},this.squash(a,r),s||(this.ignorePopState=!0,e.mobile.window.trigger(d))),this.history.add(r.url,r)},popstate:function(t){var i,a;if(e.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void t.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange?void(this.ignoreInitialHashChange=!1):(i=n.parseLocation().hash,!t.originalEvent.state&&i?(a=this.squash(i),this.history.add(a.url,a),t.historyState=a,void 0):void this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,a){t.historyState=e.extend({},i),t.historyState.direction=a}}))},hashchange:function(t){var a,o;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled())return this.preventNextHashChange?(this.preventNextHashChange=!1,void t.stopImmediatePropagation()):(a=this.history,o=n.parseLocation().hash,this.history.direct({url:o,present:function(i,a){t.hashchangeState=e.extend({},i),t.hashchangeState.direction=a},missing:function(){a.add(o,{hash:o,title:i.title})}}),void 0)}})}(e),function(e,t){e.mobile.navigate=function(t,i,a){e.mobile.navigate.navigator.go(t,i,a)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var i=e.mobile.path.parseLocation();e.mobile.navigate.history.add(i.href,{hash:i.hash})}(e),function(e,t){e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var i;return t?i=e.not(".ui-screen-hidden"):(i=e.filter(":visible"),0===i.length&&(i=e.not(".ui-screen-hidden"))),i},_addFirstLastClasses:function(e,t,i){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")}}}(e),function(e,t){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var i=this.element,a=this.options,n=i.addClass("ui-collapsible"),o=i.children(a.heading).first(),s=n.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),r=i.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),l="";o.is("legend")&&(o=e("<div role='heading'>"+o.html()+"</div>").insertBefore(o),o.next().remove()),r.length?(a.theme||(a.theme=r.jqmData("theme")||e.mobile.getInheritedTheme(r,"c")),a.contentTheme||(a.contentTheme=r.jqmData("content-theme")),a.collapsedIcon=i.jqmData("collapsed-icon")||r.jqmData("collapsed-icon")||a.collapsedIcon,a.expandedIcon=i.jqmData("expanded-icon")||r.jqmData("expanded-icon")||a.expandedIcon,a.iconpos=i.jqmData("iconpos")||r.jqmData("iconpos")||a.iconpos,r.jqmData("inset")!==t?a.inset=r.jqmData("inset"):a.inset=!0,a.corners=!1,a.mini||(a.mini=r.jqmData("mini"))):a.theme||(a.theme=e.mobile.getInheritedTheme(i,"c")),!a.inset||(l+=" ui-collapsible-inset",!a.corners||(l+=" ui-corner-all")),a.contentTheme&&(l+=" ui-collapsible-themed-content",s.addClass("ui-body-"+a.contentTheme)),""!==l&&n.addClass(l),o.insertBefore(s).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:a.iconpos,icon:a.collapsedIcon,mini:a.mini,theme:a.theme}),n.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var i=e(this),n="collapse"===t.type;t.preventDefault(),o.toggleClass("ui-collapsible-heading-collapsed",n).find(".ui-collapsible-heading-status").text(n?a.expandCueText:a.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+a.expandedIcon,!n).toggleClass("ui-icon-"+a.collapsedIcon,n||a.expandedIcon===a.collapsedIcon).end().find("a").first().removeClass(e.mobile.activeBtnClass),i.toggleClass("ui-collapsible-collapsed",n),s.toggleClass("ui-collapsible-content-collapsed",n).attr("aria-hidden",n),s.trigger("updatelayout")}}).trigger(a.collapsed?"collapse":"expand"),o.bind("tap",function(t){o.find("a").first().addClass(e.mobile.activeBtnClass)}).bind("click",function(e){var t=o.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";n.trigger(t),e.preventDefault(),e.stopPropagation()})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var i=this.element.addClass("ui-collapsible-set"),a=this.options;a.theme||(a.theme=e.mobile.getInheritedTheme(i,"c")),a.contentTheme||(a.contentTheme=i.jqmData("content-theme")),a.corners||(a.corners=i.jqmData("corners")),i.jqmData("inset")!==t&&(a.inset=i.jqmData("inset")),a.inset=a.inset!==t?a.inset:!0,a.corners=a.corners!==t?a.corners:!0,!!a.corners&&!!a.inset&&i.addClass("ui-corner-all"),i.jqmData("collapsiblebound")||i.jqmData("collapsiblebound",!0).bind("expand",function(t){var i=e(t.target).closest(".ui-collapsible");i.parent().is(":jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var e=this.element,t=e.children(":jqmData(role='collapsible')"),i=t.filter(":jqmData(collapsed='false')");this._refresh("true"),i.trigger("expand")},_refresh:function(t){var i=this.element.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible")),this._addFirstLastClasses(i,this._getVisibles(i,t),t)},refresh:function(){this._refresh(!1)}}),e.widget("mobile.collapsibleset",e.mobile.collapsibleset,e.mobile.behaviors.addFirstLastClasses),e.mobile.document.bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.extend(e.mobile,{loadingMessageTextVisible:a,loadingMessageTheme:a,loadingMessage:a,showPageLoadingMsg:function(t,i,a){e.mobile.loading("show",t,i,a)},hidePageLoadingMsg:function(){e.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var i="ui-loader",n=e("html"),o=e.mobile.window;e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+i+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&o.scrollTop()+o.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),i=o.scrollTop(),a=e.mobile.getScreenHeight();(t.top<i||t.top-i>a)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),o.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(t,s,r){var l,c,d;this.resetHtml(),"object"===e.type(t)?(d=e.extend({},this.options,t),t=d.theme||e.mobile.loadingMessageTheme):(d=this.options,t=t||e.mobile.loadingMessageTheme||d.theme),c=s||e.mobile.loadingMessage||d.text,n.addClass("ui-loading"),(e.mobile.loadingMessage!==!1||d.html)&&(l=e.mobile.loadingMessageTextVisible!==a?e.mobile.loadingMessageTextVisible:d.textVisible,this.element.attr("class",i+" ui-corner-all ui-body-"+t+" ui-loader-"+(l||s||t.text?"verbose":"default")+(d.textonly||r?" ui-loader-textonly":"")),d.html?this.element.html(d.html):this.element.find("h1").text(c),this.element.appendTo(e.mobile.pageContainer),this.checkLoaderPosition(),o.bind("scroll",e.proxy(this.checkLoaderPosition,this)))},hide:function(){n.removeClass("ui-loading"),e.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),e.mobile.window.unbind("scroll",this.fakeFixLoader),e.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),o.bind("pagecontainercreate",function(){e.mobile.loaderWidget=e.mobile.loaderWidget||e(e.mobile.loader.prototype.defaultHtml).loader()})}(e,this),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var a=this.element,n=a.find("a"),o=n.filter(":jqmData(icon)").length?this.options.iconpos:t;a.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),n.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:o}),a.delegate("a","vclick",function(t){if(!e(t.target).hasClass("ui-disabled")){n.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass);var a=e(this);e(i).one("pagechange",function(t){a.removeClass(e.mobile.activeBtnClass)})}}),a.closest(".ui-page").bind("pagebeforeshow",function(){n.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),void this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}))},_handlePageBeforeShow:function(e){this.setContainerBackground()},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,i=t.keepNative&&e.trim(t.keepNative);return i&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(e),function(e,t){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.document.bind("pagecreate create",function(t){var i,a=e.mobile.closestPageData(e(t.target));a&&(i=a.options,e(t.target).find("input").not(a.keepNativeSelector()).each(function(){var t=e(this),a=this.getAttribute("type"),n=i.degradeInputs[a]||"text";if(i.degradeInputs[a]){var o=e("<div>").html(t.clone()).html(),s=o.indexOf(" type=")>-1,r=s?/\s+type=["']?\w+['"]?/:/\/?>/,l=' type="'+n+'" data-'+e.mobile.ns+'type="'+a+'"'+(s?"":">");t.replaceWith(o.replace(r,l))}}))})}(e),function(e,t){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function t(){setTimeout(function(){a.toggleClass("ui-input-clear-hidden",!o.val())},0)}var i,a,n=this,o=this.element,s=this.options,r=s.theme||e.mobile.getInheritedTheme(this.element,"c"),l=" ui-body-"+r,c=s.mini?" ui-mini":"",d=o.is("[type='search'], :jqmData(type='search')"),h=s.clearSearchButtonText||s.clearBtnText,p=o.is("textarea, :jqmData(type='range')"),u=!!s.clearBtn&&!p,m=o.is("input")&&!o.is(":jqmData(type='range')");if(e("label[for='"+o.attr("id")+"']").addClass("ui-input-text"),i=o.addClass("ui-input-text ui-body-"+r),"undefined"!=typeof o[0].autocorrect&&!e.support.touchOverflow&&(o[0].setAttribute("autocorrect","off"),o[0].setAttribute("autocomplete","off")),d?i=o.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+l+c+"'></div>").parent():m&&(i=o.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+l+c+"'></div>").parent()),u||d?(a=e("<a href='#' class='ui-input-clear' title='"+h+"'>"+h+"</a>").bind("click",function(e){o.val("").focus().trigger("change"),a.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(i).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:s.mini}),d||i.addClass("ui-input-has-clear"),t(),o.bind("paste cut keyup input focus change blur",t)):!m&&!d&&o.addClass("ui-corner-all ui-shadow-inset"+l+c),o.focus(function(){s.preventFocusZoom&&e.mobile.zoom.disable(!0),i.addClass(e.mobile.focusClass)}).blur(function(){i.removeClass(e.mobile.focusClass),s.preventFocusZoom&&e.mobile.zoom.enable(!0)}),o.is("textarea")){var f,g=15,b=100;this._keyup=function(){var e=o[0].scrollHeight,t=o[0].clientHeight;e>t&&o.height(e+g)},o.on("keyup change input paste",function(){clearTimeout(f),f=setTimeout(n._keyup,b)}),this._on(e.mobile.document,{pagechange:"_keyup"}),e.trim(o.val())&&this._on(e.mobile.window,{load:"_keyup"})}o.attr("disabled")&&this.disable()},disable:function(){var e,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),a=this.element.attr("disabled",!0)&&(i||t);return e=a?this.element.parent():this.element,e.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),a=this.element.attr("disabled",!1)&&(i||t);return e=a?this.element.parent():this.element,e.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(e),function(e,a){function n(t){!!f&&(!f.closest("."+e.mobile.activePageClass).length||t)&&f.removeClass(e.mobile.activeBtnClass),f=null}function o(){_=!1,v.length>0&&e.mobile.changePage.apply(null,v.pop())}function s(t,i,a,n){i&&i.data("mobile-page")._trigger("beforehide",null,{nextPage:t}),t.data("mobile-page")._trigger("beforeshow",null,{prevPage:i||e("")}),e.mobile.hidePageLoadingMsg(),a=e.mobile._maybeDegradeTransition(a);var o=e.mobile.transitionHandlers[a||"default"]||e.mobile.defaultTransitionHandler,s=o(a,n,t,i);return s.done(function(){i&&i.data("mobile-page")._trigger("hide",null,{nextPage:t}),t.data("mobile-page")._trigger("show",null,{prevPage:i||e("")})}),s}function r(t,i){i&&t.attr("data-"+e.mobile.ns+"role",i),t.page()}function l(){var t=e.mobile.activePage&&d(e.mobile.activePage);return t||x.hrefNoHash}function c(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}function d(t){var i=e(t).closest(".ui-page").jqmData("url"),a=x.hrefNoHash;return i&&u.isPath(i)||(i=a),u.makeUrlAbsolute(i,a)}var h=e.mobile.window,p=(e("html"),e("head")),u=e.extend(e.mobile.path,{getFilePath:function(t){var i="&"+e.mobile.subPageUrlKey;return t&&t.split(i)[0].split(C)[0]},isFirstPageUrl:function(t){var i=u.parseUrl(u.makeUrlAbsolute(t,this.documentBase)),n=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,o=e.mobile.firstPage,s=o&&o[0]?o[0].id:a;return n&&(!i.hash||"#"===i.hash||s&&i.hash.replace(/^#/,"")===s)},isPermittedCrossDomainRequest:function(t,i){return e.mobile.allowCrossDomainPages&&"file:"===t.protocol&&-1!==i.search(/^https?:/)}}),m=null,f=null,g=e.Deferred(),b=e.mobile.navigate.history,v=[],_=!1,C="&ui-state=dialog",y=p.children("base"),w=u.documentUrl,x=u.documentBase,T=(u.documentBaseDiffers,e.mobile.getScreenHeight),k=e.support.dynamicBaseTag?{element:y.length?y:e("<base>",{href:x.hrefNoHash}).prependTo(p),set:function(e){e=u.parseUrl(e).hrefNoHash,k.element.attr("href",u.makeUrlAbsolute(e,x))},reset:function(){k.element.attr("href",x.hrefNoSearch)}}:a;e.mobile.getDocumentUrl=u.getDocumentUrl,e.mobile.getDocumentBase=u.getDocumentBase,e.mobile.back=function(){var e=t.navigator;this.phonegapNavigationEnabled&&e&&e.app&&e.app.backHistory?e.app.backHistory():t.history.back()},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),i=e.find(".ui-title:eq(0)");return t.length?void t.focus():void(i.length?i.focus():e.focus())};var D,P,q=!0;D=function(){if(q){var t=e.mobile.urlHistory.getActive();if(t){var i=h.scrollTop();t.lastScroll=i<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:i}}},P=function(){setTimeout(D,100)},h.bind(e.support.pushState?"popstate":"hashchange",function(){q=!1}),h.one(e.support.pushState?"popstate":"hashchange",function(){q=!0}),h.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){q=!0,h.unbind("scrollstop",P),h.bind("scrollstop",P)})}),h.bind("scrollstop",P),e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.resetActivePageHeight=function(t){var i=e("."+e.mobile.activePageClass),a=parseFloat(i.css("padding-top")),n=parseFloat(i.css("padding-bottom")),o=parseFloat(i.css("border-top-width")),s=parseFloat(i.css("border-bottom-width"));t="number"==typeof t?t:T(),i.css("min-height",t-a-n-o-s)},e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=u,e.mobile.base=k,e.mobile.urlHistory=b,e.mobile.dialogHashKey=C,e.mobile.allowCrossDomainPages=!1,e.mobile._bindPageRemove=function(){var t=e(this);!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(t){var i=e(this),a=new e.Event("pageremove");i.trigger(a),a.isDefaultPrevented()||i.removeWithDependents()})},e.mobile.loadPage=function(t,i){var n=e.Deferred(),o=e.extend({},e.mobile.loadPage.defaults,i),s=null,c=null,d=u.makeUrlAbsolute(t,l());o.data&&"get"===o.type&&(d=u.addSearchParams(d,o.data),o.data=a),o.data&&"post"===o.type&&(o.reloadPage=!0);var h=u.getFilePath(d),p=u.convertUrlToDataUrl(d);if(o.pageContainer=o.pageContainer||e.mobile.pageContainer,s=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+p+"']"),0===s.length&&p&&!u.isPath(p)&&(s=o.pageContainer.children("#"+p).attr("data-"+e.mobile.ns+"url",p).jqmData("url",p)),0===s.length)if(e.mobile.firstPage&&u.isFirstPageUrl(h))e.mobile.firstPage.parent().length&&(s=e(e.mobile.firstPage));else if(u.isEmbeddedPage(h))return n.reject(d,i),n.promise();if(s.length){if(!o.reloadPage)return r(s,o.role),n.resolve(d,i,s),n.promise();c=s}var m=o.pageContainer,f=new e.Event("pagebeforeload"),g={url:t,absUrl:d,dataUrl:p,deferred:n,options:o};if(m.trigger(f,g),f.isDefaultPrevented())return n.promise();if(o.showLoadMsg)var b=setTimeout(function(){e.mobile.showPageLoadingMsg()},o.loadMsgDelay),v=function(){clearTimeout(b),e.mobile.hidePageLoadingMsg()};return k&&k.reset(),e.mobile.allowCrossDomainPages||u.isSameDomain(w,d)?e.ajax({url:h,type:o.type,data:o.data,dataType:"html",success:function(a,l,m){var f=e("<div></div>"),b=a.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,_=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),C=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(_.test(a)&&RegExp.$1&&C.test(RegExp.$1)&&RegExp.$1&&(t=h=u.getFilePath(e("<div>"+RegExp.$1+"</div>").text())),k&&k.set(h),f.get(0).innerHTML=a,s=f.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),s.length||(s=e("<div data-"+e.mobile.ns+"role='page'>"+(a.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),b&&!s.jqmData("title")&&(~b.indexOf("&")&&(b=e("<div>"+b+"</div>").text()),s.jqmData("title",b)),!e.support.dynamicBaseTag){var y=u.get(h);s.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){
var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",i=e(this).attr(t);i=i.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(i)||e(this).attr(t,y+i)})}s.attr("data-"+e.mobile.ns+"url",u.convertUrlToDataUrl(h)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(o.pageContainer),s.one("pagecreate",e.mobile._bindPageRemove),r(s,o.role),d.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(s=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+p+"']")),o.showLoadMsg&&v(),g.xhr=m,g.textStatus=l,g.page=s,o.pageContainer.trigger("pageload",g),n.resolve(d,i,s,c)},error:function(t,a,s){k&&k.set(u.get()),g.xhr=t,g.textStatus=a,g.errorThrown=s;var r=new e.Event("pageloadfailed");o.pageContainer.trigger(r,g),r.isDefaultPrevented()||(o.showLoadMsg&&(v(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),n.reject(d,i))}}):n.reject(d,i),n.promise()},e.mobile.loadPage.defaults={type:"get",data:a,reloadPage:!1,role:a,showLoadMsg:!1,pageContainer:a,loadMsgDelay:50},e.mobile.changePage=function(t,c){if(_)return void v.unshift(arguments);var d,h=e.extend({},e.mobile.changePage.defaults,c);h.pageContainer=h.pageContainer||e.mobile.pageContainer,h.fromPage=h.fromPage||e.mobile.activePage,d="string"==typeof t;var p=h.pageContainer,m=new e.Event("pagebeforechange"),f={toPage:t,options:h};if(d?f.absUrl=u.makeUrlAbsolute(t,l()):f.absUrl=t.data("absUrl"),p.trigger(m,f),!m.isDefaultPrevented()){if(t=f.toPage,d="string"==typeof t,_=!0,d)return h.target=t,void e.mobile.loadPage(t,h).done(function(t,i,a,n){_=!1,i.duplicateCachedPage=n,a.data("absUrl",f.absUrl),e.mobile.changePage(a,i)}).fail(function(e,t){_=!1,n(!0),o(),h.pageContainer.trigger("pagechangefailed",f)});t[0]===e.mobile.firstPage[0]&&!h.dataUrl&&(h.dataUrl=w.hrefNoHash);var g=h.fromPage,y=h.dataUrl&&u.convertUrlToDataUrl(h.dataUrl)||t.jqmData("url"),x=y,T=(u.getFilePath(y),b.getActive()),k=0===b.activeIndex,D=0,P=i.title,q="dialog"===h.role||"dialog"===t.jqmData("role");if(g&&g[0]===t[0]&&!h.allowSamePageTransition)return _=!1,p.trigger("pagechange",f),h.fromHashChange&&b.direct({url:y}),void 0;r(t,h.role),h.fromHashChange&&(D="back"===c.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?e(i.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(E){}var S=!1;q&&T&&(T.url&&T.url.indexOf(C)>-1&&e.mobile.activePage&&!e.mobile.activePage.is(".ui-dialog")&&b.activeIndex>0&&(h.changeHash=!1,S=!0),y=T.url||"",y+=!S&&y.indexOf("#")>-1?C:"#"+C,0===b.activeIndex&&y===b.initialDst&&(y+=C));var j=T?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():P;if(!!j&&P===i.title&&(P=j),t.jqmData("title")||t.jqmData("title",P),h.transition=h.transition||(D&&!k?T.transition:a)||(q?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!D&&S&&(b.getActive().pageUrl=x),y&&!h.fromHashChange){var L;!u.isPath(y)&&y.indexOf("#")<0&&(y="#"+y),L={transition:h.transition,title:P,pageUrl:x,role:h.role},h.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(y,L,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(y,L)}i.title=P,e.mobile.activePage=t,h.reverse=h.reverse||0>D,s(t,g,h.transition,h.reverse).done(function(i,a,s,r,l){n(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),o(),p.trigger("pagechange",f)})}},e.mobile.changePage.defaults={transition:a,reverse:!1,changeHash:!0,fromHashChange:!1,role:a,duplicateCachedPage:a,pageContainer:a,showLoadMsg:!0,dataUrl:a,fromPage:a,allowSamePageTransition:!1},e.mobile.navreadyDeferred=e.Deferred(),e.mobile._registerInternalEvents=function(){var i=function(t,i){var a,n,o,s,r,l=!0;return e.mobile.ajaxEnabled&&!t.is(":jqmData(ajax='false')")&&t.jqmHijackable().length?(n=t.attr("target"),o=t.attr("action"),o||(o=d(t),o===x.hrefNoHash&&(o=w.hrefNoSearch)),o=u.makeUrlAbsolute(o,d(t)),u.isExternal(o)&&!u.isPermittedCrossDomainRequest(w,o)||n?!1:(i||(a=t.attr("method"),s=t.serializeArray(),m&&m[0].form===t[0]&&(r=m.attr("name"),r&&(e.each(s,function(e,t){return t.name===r?(r="",!1):void 0}),r&&s.push({name:r,value:m.attr("value")}))),l={url:o,options:{type:a&&a.length&&a.toLowerCase()||"get",data:e.param(s),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),l)):!1};e.mobile.document.delegate("form","submit",function(t){var a=i(e(this));a&&(e.mobile.changePage(a.url,a.options),t.preventDefault())}),e.mobile.document.bind("vclick",function(t){var a,o,s=t.target,r=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(m=e(s),e.data(s,"mobile-button")){if(!i(e(s).closest("form"),!0))return;s.parentNode&&(s=s.parentNode)}else{if(s=c(s),!s||"#"===u.parseUrl(s.getAttribute("href")||"#").hash)return;if(!e(s).jqmHijackable().length)return}~s.className.indexOf("ui-link-inherit")?s.parentNode&&(o=e.data(s.parentNode,"buttonElements")):o=e.data(s,"buttonElements"),o?s=o.outer:r=!0,a=e(s),r&&(a=a.closest(".ui-btn")),a.length>0&&!a.hasClass("ui-disabled")&&(n(!0),f=a,f.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(i){if(e.mobile.linkBindingEnabled&&!i.isDefaultPrevented()){var o,s=c(i.target),r=e(s);if(s&&!(i.which>1)&&r.jqmHijackable().length){if(o=function(){t.setTimeout(function(){n(!0)},200)},r.is(":jqmData(rel='back')"))return e.mobile.back(),!1;var l=d(r),h=u.makeUrlAbsolute(r.attr("href")||"#",l);if(!e.mobile.ajaxEnabled&&!u.isEmbeddedPage(h))return void o();if(-1!==h.search("#")){if(h=h.replace(/[^#]*#/,""),!h)return void i.preventDefault();h=u.isPath(h)?u.makeUrlAbsolute(h,l):u.makeUrlAbsolute("#"+h,w.hrefNoHash)}var p=r.is("[rel='external']")||r.is(":jqmData(ajax='false')")||r.is("[target]"),m=p||u.isExternal(h)&&!u.isPermittedCrossDomainRequest(w,h);if(m)return void o();var f=r.jqmData("transition"),g="reverse"===r.jqmData("direction")||r.jqmData("back"),b=r.attr("data-"+e.mobile.ns+"rel")||a;e.mobile.changePage(h,{transition:f,reverse:g,role:b,link:r}),i.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var i=e(this),a=i.attr("href");a&&-1===e.inArray(a,t)&&(t.push(a),e.mobile.loadPage(a,{role:i.attr("data-"+e.mobile.ns+"rel")}))})}),e.mobile._handleHashChange=function(i,n){var o=u.stripHash(i),s=0===e.mobile.urlHistory.stack.length?"none":a,r={changeHash:!1,fromHashChange:!0,reverse:"back"===n.direction};if(e.extend(r,n,{transition:(b.getLast()||{}).transition||s}),b.activeIndex>0&&o.indexOf(C)>-1&&b.initialDst!==o){if(e.mobile.activePage&&!e.mobile.activePage.is(".ui-dialog"))return void("back"===n.direction?e.mobile.back():t.history.forward());o=n.pageUrl;var l=e.mobile.urlHistory.getActive();e.extend(r,{role:l.role,transition:l.transition,reverse:"back"===n.direction})}o?(o=u.isPath(o)?o:u.makeUrlAbsolute("#"+o,x),o===u.makeUrlAbsolute("#"+b.initialDst,x)&&b.stack.length&&b.stack[0].url!==b.initialDst.replace(C,"")&&(o=e.mobile.firstPage),e.mobile.changePage(o,r)):e.mobile.changePage(e.mobile.firstPage,r)},h.bind("navigate",function(t,i){var a=e.event.special.navigate.originalEventName.indexOf("hashchange")>-1?i.state.hash:i.state.url;a||(a=e.mobile.path.parseLocation().hash),a&&"#"!==a&&0!==a.indexOf("#"+e.mobile.path.uiStateKey)||(a=location.href),e.mobile._handleHashChange(a,i.state)}),e.mobile.document.bind("pageshow",e.mobile.resetActivePageHeight),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){g.resolve()}),e.when(g,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t,i){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_create:function(){var t=this.element,i=this.options.corners?" ui-corner-all":"",a=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+i});t.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),t.wrapInner(a),t.bind("vclick submit",function(t){var i,a=e(t.target).closest("vclick"===t.type?"a":"form");a.length&&!a.jqmData("transition")&&(i=e.mobile.urlHistory.getActive()||{},a.attr("data-"+e.mobile.ns+"transition",i.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}),this._on(t,{pagebeforeshow:"_handlePageBeforeShow"}),e.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(t){var i,a,n=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==t&&(a="left"===t?"left":"right",i=e("<a href='#' class='ui-btn-"+a+"' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(i),this._createComplete&&e.fn.buttonMarkup&&i.buttonMarkup(),this._createComplete=!0,i.bind("click",function(){n.close()}),this._headerCloseButton=i)},_setOption:function(t,i){"closeBtn"===t&&(this._setCloseBtn(i),this._super(t,i),this.element.attr("data-"+(e.mobile.ns||"")+"close-btn",i))},close:function(){var t,i,a=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&a.activeIndex>0?e.mobile.back():(t=Math.max(0,a.activeIndex-1),i=a.stack[t].pageUrl||a.stack[t].url,a.previousIndex=a.activeIndex,a.activeIndex=t,e.mobile.path.isPath(i)||(i=e.mobile.path.makeUrlAbsolute("#"+i)),e.mobile.changePage(i,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),e.mobile.document.delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(e,this),function(e,t){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e.mobile.document.bind("pagecreate",function(t){var i=e(t.target),a=i.data("mobile-page").options,n=i.jqmData("role"),o=a.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",i).jqmEnhanceable().each(function(){var t,s,r,l,c=e(this),d=c.jqmData("role"),h=c.jqmData("theme"),p=h||a.contentTheme||"dialog"===n&&o;if(c.addClass("ui-"+d),"header"===d||"footer"===d){var u=h||("header"===d?a.headerTheme:a.footerTheme)||o;c.addClass("ui-bar-"+u).attr("role","header"===d?"banner":"contentinfo"),"header"===d&&(t=c.children("a, button"),s=t.hasClass("ui-btn-left"),r=t.hasClass("ui-btn-right"),s=s||t.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,r=r||t.eq(1).addClass("ui-btn-right").length),a.addBackBtn&&"header"===d&&e(".ui-page").length>1&&i.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!s&&(l=e("<a href='javascript:void(0);' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+a.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",a.backBtnTheme||u).prependTo(c)),c.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===d&&(p&&c.addClass("ui-body-"+p),c.attr("role","main"))})})}(e),function(e,t){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var t=this,i=t.options,a=t.element,n=a.is(":jqmData(role='header')")?"header":"footer",o=a.closest(".ui-page");return i.supportBlacklist()?void t.destroy():(a.addClass("ui-"+n+"-fixed"),i.fullscreen?(a.addClass("ui-"+n+"-fullscreen"),o.addClass("ui-page-"+n+"-fullscreen")):o.addClass("ui-page-"+n+"-fixed"),e.extend(this,{_thisPage:null}),t._addTransitionClass(),t._bindPageEvents(),t._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(e.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var a=this.options;if(a.disablePageZoom&&e.mobile.zoom.enable(!0),a.updatePagePadding&&this._off(e.mobile.window,"throttledresize"),a.trackPersistentToolbars){var n=e(".ui-footer-fixed:jqmData(id)",this._thisPage),o=e(".ui-header-fixed:jqmData(id)",this._thisPage),s=n.length&&i.nextPage&&e(".ui-footer-fixed:jqmData(id='"+n.jqmData("id")+"')",i.nextPage)||e(),r=o.length&&i.nextPage&&e(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||e();(s.length||r.length)&&(s.add(r).appendTo(e.mobile.pageContainer),i.nextPage.one("pageshow",function(){r.prependTo(this),s.appendTo(this)}))}},_visible:!0,updatePagePadding:function(t){var i=this.element,a=i.is(".ui-header"),n=parseFloat(i.css(a?"top":"bottom"));this.options.fullscreen||(t=t||this._thisPage||i.closest(".ui-page"),e(t).css("padding-"+(a?"top":"bottom"),i.outerHeight()+n))},_useTransition:function(t){var i=e.mobile.window,a=this.element,n=i.scrollTop(),o=a.height(),s=a.closest(".ui-page").height(),r=e.mobile.getScreenHeight(),l=a.is(":jqmData(role='header')")?"header":"footer";return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===l&&!this.options.fullscreen&&n>o||"footer"===l&&!this.options.fullscreen&&s-o>n+r)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",i=this.element;this._useTransition(e)?i.removeClass("out "+t).addClass("in").animationComplete(function(){i.removeClass("in")}):i.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",i=this.element,a="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?i.addClass(a).removeClass("in").animationComplete(function(){i.addClass(t).removeClass(a)}):i.addClass(t).removeClass(a),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,i=this,a=i.options,n=i.element;n.closest(".ui-page").bind("vclick",function(t){a.tapToggle&&!e(t.target).closest(a.tapToggleBlacklist).length&&i.toggle()}).bind("focusin focusout",function(n){screen.width<1025&&e(n.target).is(a.hideDuringFocus)&&!e(n.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==n.type||i._visible?"focusin"===n.type&&i._visible&&(clearTimeout(t),i.hide()):t=setTimeout(function(){i.show()},0))})},_destroy:function(){var e=this.element,t=e.is(".ui-header");e.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),e.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),e.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e.mobile.document.bind("pagecreate create",function(t){e(t.target).jqmData("fullscreen")&&e(e.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.fixedtoolbar",e.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,i=e.match(/AppleWebKit\/([0-9]+)/),a=!!i&&i[1],n=null,o=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)n="ios";else{if(!(e.indexOf("Android")>-1))return;n="android"}if("ios"===n)o._bindScrollWorkaround();else{if(!("android"===n&&a&&534>a))return;o._bindScrollWorkaround(),o._bindListThumbWorkaround()}},_viewportOffset:function(){var t=this.element,i=t.is(".ui-header"),a=Math.abs(t.offset().top-e.mobile.window.scrollTop());return i||(a=Math.round(a-e.mobile.window.height()+t.outerHeight())-60),a},_bindScrollWorkaround:function(){var t=this;this._on(e.mobile.window,{scrollstop:function(){var e=t._viewportOffset();e>2&&t._visible&&t._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,t){var a={};e.widget("mobile.listview",e.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",!e.options.inset||(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(function(e,i){return i+" ui-listview"+t}),e.refresh(!0)},_findFirstElementByTagName:function(e,t,i,a){var n={};for(n[i]=n[a]=!0;e;){if(n[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,i,a){var n=[],o={};for(o[i]=o[a]=!0,t=t.firstChild;t;)o[t.nodeName]&&n.push(t),t=t.nextSibling;return e(n)},_addThumbClasses:function(t){var i,a,n=t.length;for(i=0;n>i;i++)a=e(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG")),a.length&&(a.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(a[0].parentNode,"parentNode","li","LI")).addClass(a.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var a,n,o,s,r,l,c,d,h,p,u,m,f=this.options,g=this.element,b=g.jqmData("dividertheme")||f.dividerTheme,v=g.jqmData("splittheme"),_=g.jqmData("spliticon"),C=g.jqmData("icon"),y=this._getChildrenByTagName(g[0],"li","LI"),w=!!e.nodeName(g[0],"ol"),x=!e.support.cssPseudoElement,T=g.attr("start"),k={};w&&x&&g.find(".ui-li-dec").remove(),w&&(T||0===T?x?c=parseInt(T,10):(d=parseInt(T,10)-1,g.css("counter-reset","listnumbering "+d)):x&&(c=1)),f.theme||(f.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var D=0,P=y.length;P>D;D++){if(a=y.eq(D),n="ui-li",t||!a.hasClass("ui-li")){o=a.jqmData("theme")||f.theme,s=this._getChildrenByTagName(a[0],"a","A");var q="list-divider"===a.jqmData("role");s.length&&!q?(u=a.jqmData("icon"),a.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:s.length>1||u===!1?!1:u||C||f.icon,theme:o}),u!==!1&&1===s.length&&a.addClass("ui-li-has-arrow"),s.first().removeClass("ui-link").addClass("ui-link-inherit"),s.length>1&&(n+=" ui-li-has-alt",r=s.last(),l=v||r.jqmData("theme")||f.splitTheme,m=r.jqmData("icon"),r.appendTo(a).attr("title",e.trim(r.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:o,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(e(i.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:l,iconpos:"notext",icon:m||u||_||f.splitIcon})))):q?(n+=" ui-li-divider ui-bar-"+(a.jqmData("theme")||b),a.attr("role","heading"),w&&(T||0===T?x?c=parseInt(T,10):(h=parseInt(T,10)-1,a.css("counter-reset","listnumbering "+h)):x&&(c=1))):n+=" ui-li-static ui-btn-up-"+o}w&&x&&n.indexOf("ui-li-divider")<0&&(p=n.indexOf("ui-li-static")>0?a:a.find(".ui-link-inherit"),p.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+c++ +". </span>")),k[n]||(k[n]=[]),k[n].push(a[0])}for(n in k)e(k[n]).addClass(n).children(".ui-btn-inner").addClass(n);g.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(g.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(y),this._addThumbClasses(g.find(".ui-link-inherit")),this._addFirstLastClasses(y,this._getVisibles(y,t),t),this._trigger("afterrefresh")},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var t,i=this.element,n=i.closest(".ui-page"),o=n.jqmData("url"),s=o||n[0][e.expando],r=i.attr("id"),l=this.options,c="data-"+e.mobile.ns,d=this,h=n.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof a[s]&&(a[s]=-1),r=r||++a[s],e(i.find("li>ul, li>ol").toArray().reverse()).each(function(a){var n,s,d=e(this),p=d.attr("id")||r+"-"+a,u=d.parent(),m=e(d.prevAll().toArray().reverse()),f=m.length?m:e("<span>"+e.trim(u.contents()[0].nodeValue)+"</span>"),g=f.first().getEncodedText(),b=(o||"")+"&"+e.mobile.subPageUrlKey+"="+p,v=d.jqmData("theme")||l.theme,_=d.jqmData("counttheme")||i.jqmData("counttheme")||l.countTheme;t=!0,n=d.detach().wrap("<div "+c+"role='page' "+c+"url='"+b+"' "+c+"theme='"+v+"' "+c+"count-theme='"+_+"'><div "+c+"role='content'></div></div>").parent().before("<div "+c+"role='header' "+c+"theme='"+l.headerTheme+"'><div class='ui-title'>"+g+"</div></div>").after(h?e("<div "+c+"role='footer' "+c+"id='"+h+"'>"):"").parent().appendTo(e.mobile.pageContainer),n.page(),s=u.find("a:first"),s.length||(s=e("<a/>").html(f||g).prependTo(u.empty())),s.attr("href","#"+b)}).listview(),t&&n.is(":jqmData(external-page='true')")&&n.data("mobile-page").options.domCache===!1){var p=function(t,i){var a,s=i.nextPage,r=new e.Event("pageremove");i.nextPage&&(a=s.jqmData("url"),0!==a.indexOf(o+"&"+e.mobile.subPageUrlKey)&&(d.childPages().remove(),n.trigger(r),r.isDefaultPrevented()||n.removeWithDependents()))};n.unbind("pagehide.remove").bind("pagehide.remove",p)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}}),e.widget("mobile.listview",e.mobile.listview,e.mobile.behaviors.addFirstLastClasses),e.mobile.document.bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.mobile.listview.prototype.options.autodividers=!1,e.mobile.listview.prototype.options.autodividersSelector=function(t){var i=e.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null},e.mobile.document.delegate("ul,ol","listviewcreate",function(){var t=e(this),a=t.data("mobile-listview");if(a&&a.options.autodividers){var n=function(){t.find("li:jqmData(role='list-divider')").remove();for(var n,o,s=t.find("li"),r=null,l=0;l<s.length;l++){if(n=s[l],o=a.options.autodividersSelector(e(n)),o&&r!==o){var c=i.createElement("li");c.appendChild(i.createTextNode(o)),c.setAttribute("data-"+e.mobile.ns+"role","list-divider"),n.parentNode.insertBefore(c,n)}r=o}},o=function(){t.unbind("listviewafterrefresh",o),n(),a.refresh(),t.bind("listviewafterrefresh",o)};o()}})}(e),function(e,t){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c",e.mobile.listview.prototype.options.filterReveal=!1;var i=function(e,t,i){return-1===e.toString().toLowerCase().indexOf(t)};e.mobile.listview.prototype.options.filterCallback=i,e.mobile.document.delegate("ul, ol","listviewcreate",function(){var t=e(this),a=t.data("mobile-listview");if(a.options.filter){a.options.filterReveal&&t.children().addClass("ui-screen-hidden");var n=e("<form>",{"class":"ui-listview-filter ui-bar-"+a.options.filterTheme,role:"search"}).submit(function(e){e.preventDefault(),s.blur()}),o=function(n){var o,s=e(this),r=this.value.toLowerCase(),l=null,c=t.children(),d=s.jqmData("lastval")+"",h=!1,p="",u=a.options.filterCallback!==i;if(!d||d!==r){if(a._trigger("beforefilter","beforefilter",{input:this}),s.jqmData("lastval",r),u||r.length<d.length||0!==r.indexOf(d)?l=t.children():(l=t.children(":not(.ui-screen-hidden)"),!l.length&&a.options.filterReveal&&(l=t.children(".ui-screen-hidden"))),r){for(var m=l.length-1;m>=0;m--)o=e(l[m]),p=o.jqmData("filtertext")||o.text(),o.is("li:jqmData(role=list-divider)")?(o.toggleClass("ui-filter-hidequeue",!h),h=!1):a.options.filterCallback(p,r,o)?o.toggleClass("ui-filter-hidequeue",!0):h=!0;l.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),l.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else l.toggleClass("ui-screen-hidden",!!a.options.filterReveal);a._addFirstLastClasses(c,a._getVisibles(c,!1),!1)}},s=e("<input>",{placeholder:a.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",o).appendTo(n).textinput();a.options.inset&&n.addClass("ui-listview-filter-inset"),n.bind("submit",function(){return!1}).insertBefore(t)}})}(e),function(e,a){e.widget("mobile.panel",e.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_pannelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var t=this,i=t.element,a=i.closest(":jqmData(role='page')"),n=function(){var t=e.data(a[0],"mobilePage").options.theme,i="ui-body-"+t;return i},o=function(){var e=i.find("."+t.options.classes.panelInner);return 0===e.length&&(e=i.children().wrapAll('<div class="'+t.options.classes.panelInner+'" />').parent()),e},s=function(){var i=a.find("."+t.options.classes.contentWrap);return 0===i.length&&(i=a.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+t.options.classes.contentWrap+" "+n()+'" />').parent(),e.support.cssTransform3d&&!!t.options.animate&&i.addClass(t.options.classes.animate)),i},r=function(){var i=a.find("."+t.options.classes.contentFixedToolbar);return 0===i.length&&(i=a.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(t.options.classes.contentFixedToolbar),e.support.cssTransform3d&&!!t.options.animate&&i.addClass(t.options.classes.animate)),i};e.extend(this,{_panelID:i.attr("id"),_closeLink:i.find(":jqmData(rel='close')"),_page:i.closest(":jqmData(role='page')"),_pageTheme:n(),_pannelInner:o(),_wrapper:s(),_fixedToolbar:r()}),t._addPanelClasses(),t._wrapper.addClass(this.options.classes.contentWrapClosed),t._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),t._page.addClass(t.options.classes.pagePanel),e.support.cssTransform3d&&!!t.options.animate&&this.element.addClass(t.options.classes.animate),t._bindUpdateLayout(),t._bindCloseEvents(),t._bindLinkListeners(),t._bindPageEvents(),!t.options.dismissible||t._createModal(),t._bindSwipeEvents()},_createModal:function(t){var i=this;i._modal=e("<div class='"+i.options.classes.modal+"' data-panelid='"+i._panelID+"'></div>").on("mousedown",function(){i.close()}).appendTo(this._page)},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(e+=" ui-body-"+this.options.theme),!this.options.positionFixed||(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var e=this;e._closeLink.on("click.panel",function(t){return t.preventDefault(),e.close(),!1}),e.element.on("click.panel","a:jqmData(ajax='false')",function(t){e.close()})},_positionPanel:function(){var t=this,i=t._pannelInner.outerHeight(),a=i>e.mobile.getScreenHeight();a||!t.options.positionFixed?(a&&(t._unfixPanel(),e.mobile.resetActivePageHeight(i)),t._scrollIntoView(i)):t._fixPanel()},_scrollIntoView:function(i){i<e(t).scrollTop()&&t.scrollTo(0,0)},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){!!this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){!!this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(t){e._open&&e._positionPanel()})},_bindLinkListeners:function(){var t=this;t._page.on("click.panel","a",function(i){if(this.href.split("#")[1]===t._panelID&&t._panelID!==a){i.preventDefault();var n=e(this);return n.hasClass("ui-link")||(n.addClass(e.mobile.activeBtnClass),t.element.one("panelopen panelclose",function(){n.removeClass(e.mobile.activeBtnClass)})),t.toggle(),!1}})},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;!e.options.swipeClose||("left"===e.options.position?t.on("swipeleft.panel",function(t){e.close()}):t.on("swiperight.panel",function(t){e.close()}))},_bindPageEvents:function(){var e=this;e._page.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("pagehide",function(t){e._open&&e.close(!0)}).on("keyup.panel",function(t){27===t.keyCode&&e._open&&e.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,a=i.options,n=function(){i._page.off("panelclose"),i._page.jqmData("panel","open"),!t&&e.support.cssTransform3d&&a.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,o):setTimeout(o,0),i.options.theme&&"overlay"!==i.options.display&&i._page.removeClass(i._pageTheme).addClass("ui-body-"+i.options.theme),i.element.removeClass(a.classes.panelClosed).addClass(a.classes.panelOpen),i._contentWrapOpenClasses=i._getPosDisplayClasses(a.classes.contentWrap),i._wrapper.removeClass(a.classes.contentWrapClosed).addClass(i._contentWrapOpenClasses+" "+a.classes.contentWrapOpen),i._fixedToolbarOpenClasses=i._getPosDisplayClasses(a.classes.contentFixedToolbar),i._fixedToolbar.removeClass(a.classes.contentFixedToolbarClosed).addClass(i._fixedToolbarOpenClasses+" "+a.classes.contentFixedToolbarOpen),i._modalOpenClasses=i._getPosDisplayClasses(a.classes.modal)+" "+a.classes.modalOpen,i._modal&&i._modal.addClass(i._modalOpenClasses)},o=function(){
i.element.add(i._wrapper).off(i._transitionEndEvents,o),i._page.addClass(a.classes.pagePanelOpen),i._positionPanel(),i._bindFixListener(),i._trigger("open")};this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeopen"),"open"===i._page.jqmData("panel")?i._page.on("panelclose",function(){n()}):n(),i._open=!0}},close:function(t){if(this._open){var i=this.options,a=this,n=function(){!t&&e.support.cssTransform3d&&i.animate?a.element.add(a._wrapper).on(a._transitionEndEvents,o):setTimeout(o,0),a._page.removeClass(i.classes.pagePanelOpen),a.element.removeClass(i.classes.panelOpen),a._wrapper.removeClass(i.classes.contentWrapOpen),a._fixedToolbar.removeClass(i.classes.contentFixedToolbarOpen),a._modal&&a._modal.removeClass(a._modalOpenClasses)},o=function(){a.options.theme&&"overlay"!==a.options.display&&a._page.removeClass("ui-body-"+a.options.theme).addClass(a._pageTheme),a.element.add(a._wrapper).off(a._transitionEndEvents,o),a.element.addClass(i.classes.panelClosed),a._wrapper.removeClass(a._contentWrapOpenClasses).addClass(i.classes.contentWrapClosed),a._fixedToolbar.removeClass(a._fixedToolbarOpenClasses).addClass(i.classes.contentFixedToolbarClosed),a._fixPanel(),a._unbindFixListener(),e.mobile.resetActivePageHeight(),a._page.jqmRemoveData("panel"),a._trigger("close")};this.element.closest(".ui-page-active").length<0&&(t=!0),a._trigger("beforeclose"),n(),a._open=!1}},toggle:function(e){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var t=this.options.classes,i=this.options.theme,a=this.element.siblings("."+t.panel).length;a?this._open&&(this._wrapper.removeClass(t.contentWrapOpen),this._fixedToolbar.removeClass(t.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(t.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme),e.mobile.resetActivePageHeight())),this._pannelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),t.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([t.panelUnfixed,t.panelClosed,t.panelOpen].join(" "))}}),e(i).bind("pagecreate create",function(t){e.mobile.panel.prototype.enhanceWithin(t.target)})}(e),function(e,a){function n(e,t,i,a){var n=a;return n=t>e?i+(e-t)/2:Math.min(Math.max(i,a-t/2),i+e-t)}function o(){var i=e.mobile.window;return{x:i.scrollLeft(),y:i.scrollTop(),cx:t.innerWidth||i.width(),cy:t.innerHeight||i.height()}}e.widget("mobile.popup",e.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!e.mobile.browser.oldIE},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),e>this._ui.screen.height()&&this._ui.screen.height(e)},_handleWindowKeyUp:function(t){return this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE?this._eatEventAndClose(t):void 0},_expectResizeEvent:function(){var t=o();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(e.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var e=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){e._ignoreResizeTo=0},1e3)},_handleWindowResize:function(e){this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&this._ui.container.addClass("ui-popup-hidden").removeAttr("style")},_handleWindowOrientationchange:function(e){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var a,n=t.target,o=this._ui;if(this._isOpen){if(n!==o.container[0]){if(a=e(t.target),0===a.parents().filter(o.container[0]).length)return e(i.activeElement).one("focus",function(e){a.blur()}),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=a)}else o.focusElement&&o.focusElement[0]!==o.container[0]&&(o.container.blur(),o.focusElement.focus());this._ignoreResizeEvents()}},_create:function(){var t={screen:e("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden'></div>")},i=this.element.closest(".ui-page"),n=this.element.attr("id"),o=this;this.options.history=this.options.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,0===i.length&&(i=e("body")),this.options.container=this.options.container||e.mobile.pageContainer,i.append(t.screen),t.container.insertAfter(t.screen),t.placeholder.insertAfter(this.element),n&&(t.screen.attr("id",n+"-screen"),t.container.attr("id",n+"-popup"),t.placeholder.html("<!-- placeholder for "+n+" -->")),t.container.append(this.element),t.focusElement=t.container,this.element.addClass("ui-popup"),e.extend(this,{_scrollTop:0,_page:i,_ui:t,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),e.each(this.options,function(e,t){o.options[e]=a,o._setOption(e,t,!0)}),t.screen.bind("vclick",e.proxy(this,"_eatEventAndClose")),this._on(e.mobile.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(e.mobile.document,{focusin:e.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(e,t,i){for(var a,n=(e.attr("class")||"").split(" "),o=null,s=String(t);n.length>0;){if(o=n.pop(),a=new RegExp("^ui-"+i+"-([a-z])$").exec(o),a&&a.length>1){o=a[1];break}o=null}t!==o&&(e.removeClass("ui-"+i+"-"+o),null!==t&&"none"!==t&&e.addClass("ui-"+i+"-"+s))},_setTheme:function(e){this._applyTheme(this.element,e,"body")},_setOverlayTheme:function(e){this._applyTheme(this._ui.screen,e,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(e){this.element.toggleClass("ui-overlay-shadow",e)},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(e){this._currentTransition||this._applyTransition(e)},_setTolerance:function(t){var i={t:30,r:15,b:30,l:15};if(t!==a){var n=String(t).split(",");switch(e.each(n,function(e,t){n[e]=parseInt(t,10)}),n.length){case 1:isNaN(n[0])||(i.t=i.r=i.b=i.l=n[0]);break;case 2:isNaN(n[0])||(i.t=i.b=n[0]),isNaN(n[1])||(i.l=i.r=n[1]);break;case 4:isNaN(n[0])||(i.t=n[0]),isNaN(n[1])||(i.r=n[1]),isNaN(n[2])||(i.b=n[2]),isNaN(n[3])||(i.l=n[3])}}this._tolerance=i},_setOption:function(t,i){var n,o="_set"+t.charAt(0).toUpperCase()+t.slice(1);this[o]!==a&&this[o](i),n=["initSelector","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","history","container"],e.mobile.widget.prototype._setOption.apply(this,arguments),-1===e.inArray(t,n)&&this.element.attr("data-"+(e.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i)},_placementCoords:function(e){var t,a,s=o(),r={x:this._tolerance.l,y:s.y+this._tolerance.t,cx:s.cx-this._tolerance.l-this._tolerance.r,cy:s.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",r.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},a={x:n(r.cx,t.cx,r.x,e.x),y:n(r.cy,t.cy,r.y,e.y)},a.y=Math.max(0,a.y);var l=i.documentElement,c=i.body,d=Math.max(l.clientHeight,c.scrollHeight,c.offsetHeight,l.scrollHeight,l.offsetHeight);return a.y-=Math.min(a.y,Math.max(0,a.y+t.cy-d)),{left:a.x,top:a.y}},_createPrereqs:function(t,i,a){var n,o=this;n={screen:e.Deferred(),container:e.Deferred()},n.screen.then(function(){n===o._prereqs&&t()}),n.container.then(function(){n===o._prereqs&&i()}),e.when(n.screen,n.container).done(function(){n===o._prereqs&&(o._prereqs=null,a())}),o._prereqs=n},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?void this._ui.container.animationComplete(e.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove):(this._ui.container.removeClass(t.classToRemove),void t.prereqs.container.resolve())},_desiredCoords:function(t){var i,a=null,n=o(),s=t.x,r=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)s=n.cx/2+n.x,r=n.cy/2+n.y;else{try{a=e(l)}catch(c){a=null}a&&(a.filter(":visible"),0===a.length&&(a=null))}return a&&(i=a.offset(),s=i.left+a.outerWidth()/2,r=i.top+a.outerHeight()/2),("number"!==e.type(s)||isNaN(s))&&(s=n.cx/2+n.x),("number"!==e.type(r)||isNaN(r))&&(r=n.cy/2+n.y),{x:s,y:r}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(t){var i=e.extend({},this.options,t),a=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),i=!!t&&t[1],a=e.match(/Android (\d+(?:\.\d+))/),n=!!a&&a[1],o=e.indexOf("Chrome")>-1;return null!==a&&"4.0"===n&&i&&i>534.13&&!o?!0:!1}();this._createPrereqs(e.noop,e.noop,e.proxy(this,"_openPrereqsComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||e.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(i),this.options.overlayTheme&&a&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){this.options;this._ui.container.removeAttr("tabindex"),e.mobile.popup.active=a,this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(e.proxy(this,"_closePrereqScreen"),e.proxy(this,"_closePrereqContainer"),e.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(i,a){var n,o,s=this.options,r=!1;t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&a&&(n="string"==typeof a.toPage?a.toPage:a.toPage.jqmData("url"),n=e.mobile.path.parseUrl(n),o=n.pathname+n.search+n.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(o)?r=!0:i.preventDefault()),s.container.unbind(s.closeEvents),this.element.undelegate(s.closeLinkSelector,s.closeLinkEvents),this._close(r)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,e.proxy(this,"_closePopup"))},open:function(i){var a,n,o,s,r,l,c=this,d=this.options;if(!e.mobile.popup.active)return e.mobile.popup.active=this,this._scrollTop=e.mobile.window.scrollTop(),d.history?(l=e.mobile.urlHistory,n=e.mobile.dialogHashKey,o=e.mobile.activePage,s=o.is(".ui-dialog"),this._myUrl=a=l.getActive().url,(r=a.indexOf(n)>-1&&!s&&l.activeIndex>0)?(c._open(i),void c._bindContainerClose()):(-1!==a.indexOf(n)||s?a=e.mobile.path.parseLocation().hash+n:a+=a.indexOf("#")>-1?n:"#"+n,0===l.activeIndex&&a===l.initialDst&&(a+=n),e(t).one("beforenavigate",function(e){e.preventDefault(),c._open(i),c._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(a,{role:"dialog"}),void 0)):(c._open(i),c._bindContainerClose(),c.element.delegate(d.closeLinkSelector,d.closeLinkEvents,function(e){c.close(),e.preventDefault()}),void 0)},close:function(){e.mobile.popup.active===this&&(this._scrollTop=e.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup())}}),e.mobile.popup.handleLink=function(t){var i,a=t.closest(":jqmData(role='page')"),n=0===a.length?e("body"):a,o=e(e.mobile.path.parseUrl(t.attr("href")).hash,n[0]);o.data("mobile-popup")&&(i=t.offset(),o.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){var i=t.parent().parent();i.hasClass("ui-li")&&(t=i.parent()),t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.bind("pagebeforechange",function(t,i){"popup"===i.options.role&&(e.mobile.popup.handleLink(i.options.link),t.preventDefault())}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.widget("mobile.table",e.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var t=this,i=this.element.find("thead tr");this.element.addClass(this.options.classes.table),t.headers=this.element.find("tr:eq(0)").children(),t.allHeaders=t.headers.add(i.children()),i.each(function(){var a=0;e(this).children().each(function(n){var o=parseInt(e(this).attr("colspan"),10),s=":nth-child("+(a+1)+")";if(e(this).jqmData("colstart",a+1),o)for(var r=0;o-1>r;r++)a++,s+=", :nth-child("+(a+1)+")";e(this).jqmData("cells",t.element.find("tr").not(i.eq(0)).not(this).children(s)),a++})})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.table.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.controlgroup",e.mobile.widget,{options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var i=this.element,a={inner:e("<div class='ui-controlgroup-controls'></div>"),legend:e("<div role='heading' class='ui-controlgroup-label'></div>")},n=i.children("legend"),o=this;i.wrapInner(a.inner),n.length&&a.legend.append(n).insertBefore(i.children(0)),i.addClass("ui-corner-all ui-controlgroup"),e.extend(this,{_initialRefresh:!0}),e.each(this.options,function(e,i){o.options[e]=t,o._setOption(e,i,!0)})},_init:function(){this.refresh()},_setOption:function(i,a){var n="_set"+i.charAt(0).toUpperCase()+i.slice(1);this[n]!==t&&this[n](a),this._super(i,a),this.element.attr("data-"+(e.mobile.ns||"")+i.replace(/([A-Z])/,"-$1").toLowerCase(),a)},_setType:function(e){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+e),this.refresh()},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_setShadow:function(e){this.element.toggleClass("ui-shadow",e)},_setMini:function(e){this.element.toggleClass("ui-mini",e)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var t=this.element.find(".ui-btn").not(".ui-slider-handle"),i=this._initialRefresh;e.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(t,this.options.excludeInvisible?this._getVisibles(t,i):t,i),this._initialRefresh=!1}}),e.widget("mobile.controlgroup",e.mobile.controlgroup,e.mobile.behaviors.addFirstLastClasses),e(function(){e.mobile.document.bind("pagecreate create",function(t){e.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)})})}(e),function(e,t){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,t){e.widget("mobile.checkboxradio",e.mobile.widget,{options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var t=this,a=this.element,n=this.options,o=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},s=e(a).closest("label"),r=s.length?s:e(a).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+a[0].id+"']").first(),l=a[0].type,c=o(a,"mini")||n.mini,d=l+"-on",h=l+"-off",p=o(a,"iconpos"),u="ui-"+d,m="ui-"+h;if("checkbox"===l||"radio"===l){e.extend(this,{label:r,inputtype:l,checkedClass:u,uncheckedClass:m,checkedicon:d,uncheckedicon:h}),n.theme||(n.theme=e.mobile.getInheritedTheme(this.element,"c")),r.buttonMarkup({theme:n.theme,icon:h,shadow:!1,mini:c,iconpos:p});var f=i.createElement("div");f.className="ui-"+l,a.add(r).wrapAll(f),r.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){return a.is(":disabled")?void e.preventDefault():(t._cacheVals(),a.prop("checked","radio"===l&&!0||!a.prop("checked")),a.triggerHandler("click"),t._getInputSet().not(a).prop("checked",!1),t._updateAll(),!1)}}),a.bind({vmousedown:function(){t._cacheVals()},vclick:function(){var i=e(this);i.is(":checked")?(i.prop("checked",!0),t._getInputSet().not(i).prop("checked",!1)):i.prop("checked",!1),t._updateAll()},focus:function(){r.addClass(e.mobile.focusClass)},blur:function(){r.removeClass(e.mobile.focusClass)}}),this._handleFormReset&&this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){e(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var i=e(this);(this.checked||"checkbox"===t.inputtype)&&i.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var t=this.element[0],i=" "+e.mobile.activeBtnClass,a=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?i:""),n=this.label;t.checked?n.removeClass(this.uncheckedClass+i).addClass(a).buttonMarkup({icon:this.checkedicon}):n.removeClass(a).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),t.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),e.widget("mobile.checkboxradio",e.mobile.checkboxradio,e.mobile.behaviors.formReset),e.mobile.document.bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.mobile.table.prototype.options.mode="columntoggle",e.mobile.table.prototype.options.columnBtnTheme=null,e.mobile.table.prototype.options.columnPopupTheme=null,e.mobile.table.prototype.options.columnBtnText="Columns...",e.mobile.table.prototype.options.classes=e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),e.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var t=e(this),i=t.data("mobile-table"),a=i.options,n=e.mobile.ns;if("columntoggle"===a.mode){i.element.addClass(a.classes.columnToggleTable);var o=(t.attr("id")||a.classes.popup)+"-popup",s=e("<a href='#"+o+"' class='"+a.classes.columnBtn+"' data-"+n+"rel='popup' data-"+n+"mini='true'>"+a.columnBtnText+"</a>"),r=e("<div data-"+n+"role='popup' data-"+n+"role='fieldcontain' class='"+a.classes.popup+"' id='"+o+"'></div>"),l=e("<fieldset data-"+n+"role='controlgroup'></fieldset>");i.headers.not("td").each(function(){var t=e(this).jqmData("priority"),i=e(this).add(e(this).jqmData("cells"));t&&(i.addClass(a.classes.priorityPrefix+t),e("<label><input type='checkbox' checked />"+e(this).text()+"</label>").appendTo(l).children(0).jqmData("cells",i).checkboxradio({theme:a.columnPopupTheme}))}),l.appendTo(r),l.on("change","input",function(t){this.checked?e(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):e(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),s.insertBefore(t).buttonMarkup({theme:a.columnBtnTheme}),r.insertBefore(t).popup(),i.refresh=function(){l.find("input").each(function(){this.checked="table-cell"===e(this).jqmData("cells").eq(0).css("display"),e(this).checkboxradio("refresh")})},e.mobile.window.on("throttledresize",i.refresh),i.refresh()}})}(e),function(e,t){e.mobile.table.prototype.options.mode="reflow",e.mobile.table.prototype.options.classes=e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),e.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var t=e(this),i=t.data("mobile-table"),a=i.options;if("reflow"===a.mode){i.element.addClass(a.classes.reflowTable);var n=e(i.allHeaders.get().reverse());n.each(function(t){var i=e(this).jqmData("cells"),n=e(this).jqmData("colstart"),o=i.not(this).filter("thead th").length&&" ui-table-cell-label-top",s=e(this).text();if(""!==s)if(o){var r=parseInt(e(this).attr("colspan"),10),l="";r&&(l="td:nth-child("+r+"n + "+n+")"),i.filter(l).prepend("<b class='"+a.classes.cellLabels+o+"'>"+s+"</b>")}else i.prepend("<b class='"+a.classes.cellLabels+"'>"+s+"</b>")})}})}(e)});